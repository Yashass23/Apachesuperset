{"version":3,"file":"f7cb58be69c8285dd88d.chunk.js","mappings":"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","sources":["webpack://superset/./node_modules/d3-cloud/index.js","webpack://superset/./node_modules/d3-dispatch/src/dispatch.js","webpack://superset/./packages/superset-ui-core/src/utils/random.ts","webpack://superset/./node_modules/encodable/esm/typeGuards/ChannelDef.js","webpack://superset/./node_modules/encodable/esm/typeGuards/Base.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/extent.js","webpack://superset/./node_modules/encodable/esm/types/scale/ScaleType.js","webpack://superset/./node_modules/encodable/esm/typeGuards/Channel.js","webpack://superset/./node_modules/encodable/esm/utils/keys.js","webpack://superset/./node_modules/encodable/esm/parsers/dateTimeToTimestamp.js","webpack://superset/./node_modules/encodable/esm/parsers/parseDateTime.js","webpack://superset/./node_modules/encodable/esm/typeGuards/DateTime.js","webpack://superset/./node_modules/encodable/esm/parsers/format/fallbackFormatter.js","webpack://superset/./node_modules/encodable/esm/parsers/format/createFormatter.js","webpack://superset/./node_modules/encodable/esm/encoders/ChannelEncoderAxis.js","webpack://superset/./node_modules/encodable/esm/utils/isEnabled.js","webpack://superset/./node_modules/encodable/esm/utils/isDisabled.js","webpack://superset/./node_modules/encodable/esm/fillers/expandLabelOverlapStrategy.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/scaleCategories.js","webpack://superset/./node_modules/encodable/esm/fillers/inferScaleType.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/isPropertySupportedByScaleType.js","webpack://superset/./node_modules/encodable/esm/typeGuards/ScaleConfig.js","webpack://superset/./node_modules/encodable/esm/fillers/inferFieldType.js","webpack://superset/./node_modules/encodable/esm/fillers/completeChannelDef.js","webpack://superset/./node_modules/encodable/esm/fillers/completeScaleConfig.js","webpack://superset/./node_modules/encodable/esm/fillers/completeFormatConfig.js","webpack://superset/./node_modules/encodable/esm/fillers/completeAxisConfig.js","webpack://superset/./node_modules/encodable/esm/fillers/completeLegendConfig.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/ticks.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/ascending.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/bisector.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/number.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/bisect.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/basis.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/constant.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/color.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/rgb.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/array.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/date.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/number.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/object.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/basisClosed.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/string.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/numberArray.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/value.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/round.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/number.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/continuous.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/constant.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/init.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/linear.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/tickFormat.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/nice.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/log.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/pow.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/duration.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/interval.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/millisecond.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/second.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/minute.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/hour.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/day.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/week.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/month.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/year.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcMinute.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcHour.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcDay.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcWeek.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcMonth.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcYear.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/ticks.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/time.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/quantile.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/quantile.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/quantize.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/threshold.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/ordinal.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/band.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/range.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/symlog.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/createScaleFromScaleType.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/utcTime.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyNice.js","webpack://superset/./node_modules/encodable/esm/typeGuards/Scale.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyZero.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/hcl.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/hsl.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/cubehelix.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/createColorInterpolator.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/lab.js","webpack://superset/./node_modules/encodable/esm/parsers/domain/parseContinuousDomain.js","webpack://superset/./node_modules/encodable/esm/parsers/domain/parseDiscreteDomain.js","webpack://superset/./node_modules/encodable/esm/utils/removeUndefinedAndNull.js","webpack://superset/./node_modules/encodable/esm/parsers/parseDateTimeIn.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyDomain.js","webpack://superset/./node_modules/encodable/esm/utils/combineContinuousDomains.js","webpack://superset/./node_modules/encodable/esm/utils/combineCategories.js","webpack://superset/./node_modules/encodable/esm/typeGuards/SchemeParams.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyRange.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/updateScale.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyAlign.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyBase.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyClamp.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyExponent.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyInterpolate.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyPadding.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyRound.js","webpack://superset/./node_modules/encodable/esm/utils/identity.js","webpack://superset/./node_modules/encodable/esm/typeGuards/CompleteChannelDef.js","webpack://superset/./node_modules/encodable/esm/encoders/ChannelEncoder.js","webpack://superset/./node_modules/encodable/esm/parsers/createGetterFromChannelDef.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/createScale.js","webpack://superset/./node_modules/encodable/esm/encoders/Encoder.js","webpack://superset/./plugins/plugin-chart-word-cloud/src/chart/WordCloud.tsx","webpack://superset/./node_modules/encodable/esm/encoders/createEncoderFactory.js","webpack://superset/./node_modules/encodable/esm/utils/mergeEncoding.js"],"sourcesContent":["// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\n\nvar dispatch = require(\"d3-dispatch\").dispatch;\n\nvar cloudRadians = Math.PI / 180,\n    cw = 1 << 11 >> 5,\n    ch = 1 << 11;\n\nmodule.exports = function() {\n  var size = [256, 256],\n      text = cloudText,\n      font = cloudFont,\n      fontSize = cloudFontSize,\n      fontStyle = cloudFontNormal,\n      fontWeight = cloudFontNormal,\n      rotate = cloudRotate,\n      padding = cloudPadding,\n      spiral = archimedeanSpiral,\n      words = [],\n      timeInterval = Infinity,\n      event = dispatch(\"word\", \"end\"),\n      timer = null,\n      random = Math.random,\n      cloud = {},\n      canvas = cloudCanvas;\n\n  cloud.canvas = function(_) {\n    return arguments.length ? (canvas = functor(_), cloud) : canvas;\n  };\n\n  cloud.start = function() {\n    var contextAndRatio = getContext(canvas()),\n        board = zeroArray((size[0] >> 5) * size[1]),\n        bounds = null,\n        n = words.length,\n        i = -1,\n        tags = [],\n        data = words.map(function(d, i) {\n          d.text = text.call(this, d, i);\n          d.font = font.call(this, d, i);\n          d.style = fontStyle.call(this, d, i);\n          d.weight = fontWeight.call(this, d, i);\n          d.rotate = rotate.call(this, d, i);\n          d.size = ~~fontSize.call(this, d, i);\n          d.padding = padding.call(this, d, i);\n          return d;\n        }).sort(function(a, b) { return b.size - a.size; });\n\n    if (timer) clearInterval(timer);\n    timer = setInterval(step, 0);\n    step();\n\n    return cloud;\n\n    function step() {\n      var start = Date.now();\n      while (Date.now() - start < timeInterval && ++i < n && timer) {\n        var d = data[i];\n        d.x = (size[0] * (random() + .5)) >> 1;\n        d.y = (size[1] * (random() + .5)) >> 1;\n        cloudSprite(contextAndRatio, d, data, i);\n        if (d.hasText && place(board, d, bounds)) {\n          tags.push(d);\n          event.call(\"word\", cloud, d);\n          if (bounds) cloudBounds(bounds, d);\n          else bounds = [{x: d.x + d.x0, y: d.y + d.y0}, {x: d.x + d.x1, y: d.y + d.y1}];\n          // Temporary hack\n          d.x -= size[0] >> 1;\n          d.y -= size[1] >> 1;\n        }\n      }\n      if (i >= n) {\n        cloud.stop();\n        event.call(\"end\", cloud, tags, bounds);\n      }\n    }\n  }\n\n  cloud.stop = function() {\n    if (timer) {\n      clearInterval(timer);\n      timer = null;\n    }\n    return cloud;\n  };\n\n  function getContext(canvas) {\n    canvas.width = canvas.height = 1;\n    var ratio = Math.sqrt(canvas.getContext(\"2d\").getImageData(0, 0, 1, 1).data.length >> 2);\n    canvas.width = (cw << 5) / ratio;\n    canvas.height = ch / ratio;\n\n    var context = canvas.getContext(\"2d\");\n    context.fillStyle = context.strokeStyle = \"red\";\n    context.textAlign = \"center\";\n\n    return {context: context, ratio: ratio};\n  }\n\n  function place(board, tag, bounds) {\n    var perimeter = [{x: 0, y: 0}, {x: size[0], y: size[1]}],\n        startX = tag.x,\n        startY = tag.y,\n        maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\n        s = spiral(size),\n        dt = random() < .5 ? 1 : -1,\n        t = -dt,\n        dxdy,\n        dx,\n        dy;\n\n    while (dxdy = s(t += dt)) {\n      dx = ~~dxdy[0];\n      dy = ~~dxdy[1];\n\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\n\n      tag.x = startX + dx;\n      tag.y = startY + dy;\n\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 ||\n          tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\n      // TODO only check for collisions within current bounds.\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\n        if (!bounds || collideRects(tag, bounds)) {\n          var sprite = tag.sprite,\n              w = tag.width >> 5,\n              sw = size[0] >> 5,\n              lx = tag.x - (w << 4),\n              sx = lx & 0x7f,\n              msx = 32 - sx,\n              h = tag.y1 - tag.y0,\n              x = (tag.y + tag.y0) * sw + (lx >> 5),\n              last;\n          for (var j = 0; j < h; j++) {\n            last = 0;\n            for (var i = 0; i <= w; i++) {\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n            }\n            x += sw;\n          }\n          delete tag.sprite;\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  cloud.timeInterval = function(_) {\n    return arguments.length ? (timeInterval = _ == null ? Infinity : _, cloud) : timeInterval;\n  };\n\n  cloud.words = function(_) {\n    return arguments.length ? (words = _, cloud) : words;\n  };\n\n  cloud.size = function(_) {\n    return arguments.length ? (size = [+_[0], +_[1]], cloud) : size;\n  };\n\n  cloud.font = function(_) {\n    return arguments.length ? (font = functor(_), cloud) : font;\n  };\n\n  cloud.fontStyle = function(_) {\n    return arguments.length ? (fontStyle = functor(_), cloud) : fontStyle;\n  };\n\n  cloud.fontWeight = function(_) {\n    return arguments.length ? (fontWeight = functor(_), cloud) : fontWeight;\n  };\n\n  cloud.rotate = function(_) {\n    return arguments.length ? (rotate = functor(_), cloud) : rotate;\n  };\n\n  cloud.text = function(_) {\n    return arguments.length ? (text = functor(_), cloud) : text;\n  };\n\n  cloud.spiral = function(_) {\n    return arguments.length ? (spiral = spirals[_] || _, cloud) : spiral;\n  };\n\n  cloud.fontSize = function(_) {\n    return arguments.length ? (fontSize = functor(_), cloud) : fontSize;\n  };\n\n  cloud.padding = function(_) {\n    return arguments.length ? (padding = functor(_), cloud) : padding;\n  };\n\n  cloud.random = function(_) {\n    return arguments.length ? (random = _, cloud) : random;\n  };\n\n  cloud.on = function() {\n    var value = event.on.apply(event, arguments);\n    return value === event ? cloud : value;\n  };\n\n  return cloud;\n};\n\nfunction cloudText(d) {\n  return d.text;\n}\n\nfunction cloudFont() {\n  return \"serif\";\n}\n\nfunction cloudFontNormal() {\n  return \"normal\";\n}\n\nfunction cloudFontSize(d) {\n  return Math.sqrt(d.value);\n}\n\nfunction cloudRotate() {\n  return (~~(Math.random() * 6) - 3) * 30;\n}\n\nfunction cloudPadding() {\n  return 1;\n}\n\n// Fetches a monochrome sprite bitmap for the specified text.\n// Load in batches for speed.\nfunction cloudSprite(contextAndRatio, d, data, di) {\n  if (d.sprite) return;\n  var c = contextAndRatio.context,\n      ratio = contextAndRatio.ratio;\n\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n  var x = 0,\n      y = 0,\n      maxh = 0,\n      n = data.length;\n  --di;\n  while (++di < n) {\n    d = data[di];\n    c.save();\n    c.font = d.style + \" \" + d.weight + \" \" + ~~((d.size + 1) / ratio) + \"px \" + d.font;\n    var w = c.measureText(d.text + \"m\").width * ratio,\n        h = d.size << 1;\n    if (d.rotate) {\n      var sr = Math.sin(d.rotate * cloudRadians),\n          cr = Math.cos(d.rotate * cloudRadians),\n          wcr = w * cr,\n          wsr = w * sr,\n          hcr = h * cr,\n          hsr = h * sr;\n      w = (Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5 << 5;\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n    } else {\n      w = (w + 0x1f) >> 5 << 5;\n    }\n    if (h > maxh) maxh = h;\n    if (x + w >= (cw << 5)) {\n      x = 0;\n      y += maxh;\n      maxh = 0;\n    }\n    if (y + h >= ch) break;\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\n    c.fillText(d.text, 0, 0);\n    if (d.padding) c.lineWidth = 2 * d.padding, c.strokeText(d.text, 0, 0);\n    c.restore();\n    d.width = w;\n    d.height = h;\n    d.xoff = x;\n    d.yoff = y;\n    d.x1 = w >> 1;\n    d.y1 = h >> 1;\n    d.x0 = -d.x1;\n    d.y0 = -d.y1;\n    d.hasText = true;\n    x += w;\n  }\n  var pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\n      sprite = [];\n  while (--di >= 0) {\n    d = data[di];\n    if (!d.hasText) continue;\n    var w = d.width,\n        w32 = w >> 5,\n        h = d.y1 - d.y0;\n    // Zero the buffer\n    for (var i = 0; i < h * w32; i++) sprite[i] = 0;\n    x = d.xoff;\n    if (x == null) return;\n    y = d.yoff;\n    var seen = 0,\n        seenRow = -1;\n    for (var j = 0; j < h; j++) {\n      for (var i = 0; i < w; i++) {\n        var k = w32 * j + (i >> 5),\n            m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\n        sprite[k] |= m;\n        seen |= m;\n      }\n      if (seen) seenRow = j;\n      else {\n        d.y0++;\n        h--;\n        j--;\n        y++;\n      }\n    }\n    d.y1 = d.y0 + seenRow;\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n  }\n}\n\n// Use mask-based collision detection.\nfunction cloudCollide(tag, board, sw) {\n  sw >>= 5;\n  var sprite = tag.sprite,\n      w = tag.width >> 5,\n      lx = tag.x - (w << 4),\n      sx = lx & 0x7f,\n      msx = 32 - sx,\n      h = tag.y1 - tag.y0,\n      x = (tag.y + tag.y0) * sw + (lx >> 5),\n      last;\n  for (var j = 0; j < h; j++) {\n    last = 0;\n    for (var i = 0; i <= w; i++) {\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0))\n          & board[x + i]) return true;\n    }\n    x += sw;\n  }\n  return false;\n}\n\nfunction cloudBounds(bounds, d) {\n  var b0 = bounds[0],\n      b1 = bounds[1];\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\n}\n\nfunction collideRects(a, b) {\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\n}\n\nfunction archimedeanSpiral(size) {\n  var e = size[0] / size[1];\n  return function(t) {\n    return [e * (t *= .1) * Math.cos(t), t * Math.sin(t)];\n  };\n}\n\nfunction rectangularSpiral(size) {\n  var dy = 4,\n      dx = dy * size[0] / size[1],\n      x = 0,\n      y = 0;\n  return function(t) {\n    var sign = t < 0 ? -1 : 1;\n    // See triangular numbers: T_n = n * (n + 1) / 2.\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\n      case 0:  x += dx; break;\n      case 1:  y += dy; break;\n      case 2:  x -= dx; break;\n      default: y -= dy; break;\n    }\n    return [x, y];\n  };\n}\n\n// TODO reuse arrays?\nfunction zeroArray(n) {\n  var a = [],\n      i = -1;\n  while (++i < n) a[i] = 0;\n  return a;\n}\n\nfunction cloudCanvas() {\n  return document.createElement(\"canvas\");\n}\n\nfunction functor(d) {\n  return typeof d === \"function\" ? d : function() { return d; };\n}\n\nvar spirals = {\n  archimedean: archimedeanSpiral,\n  rectangular: rectangularSpiral\n};\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport _seedrandom from 'seedrandom';\n\nexport function seed(seed: string) {\n  return _seedrandom(seed);\n}\n\nexport function seedRandom() {\n  return _seedrandom('superset-ui')();\n}\n","export function isValueDef(channelDef) {\n  return channelDef && 'value' in channelDef;\n}\nexport function isNonValueDef(channelDef) {\n  return channelDef && !('value' in channelDef);\n}\nexport function isFieldDef(channelDef) {\n  return channelDef && 'field' in channelDef && !!channelDef.field;\n}\nexport function isTypedFieldDef(channelDef) {\n  return isFieldDef(channelDef) && 'type' in channelDef && !!channelDef.type;\n}\nexport function isScaleFieldDef(channelDef) {\n  return isTypedFieldDef(channelDef) && 'scale' in channelDef;\n}\nexport function isPositionFieldDef(channelDef) {\n  return isTypedFieldDef(channelDef) && 'axis' in channelDef;\n}","export function isArray(maybeArray) {\n  return Array.isArray(maybeArray);\n}\nexport function isNotArray(maybeArray) {\n  return !Array.isArray(maybeArray);\n}\nexport function isDefined(value) {\n  return typeof value !== 'undefined' && value !== null;\n}\nexport function isEveryElementDefined(array) {\n  return array.every(isDefined);\n}","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","// Modified from vega-lite\n// because vega-lite uses namespace which has issues with babel and typescript\nexport const ScaleType = {\n  // Continuous - Quantitative\n  LINEAR: 'linear',\n  LOG: 'log',\n  POW: 'pow',\n  SQRT: 'sqrt',\n  SYMLOG: 'symlog',\n  // Continuous - Time\n  TIME: 'time',\n  UTC: 'utc',\n  // Discretizing scales\n  QUANTILE: 'quantile',\n  QUANTIZE: 'quantize',\n  THRESHOLD: 'threshold',\n  BIN_ORDINAL: 'bin-ordinal',\n  // Discrete scales\n  ORDINAL: 'ordinal',\n  POINT: 'point',\n  BAND: 'band'\n};","export function isX(channelType) {\n  return channelType === 'X' || channelType === 'XBand';\n}\nexport function isY(channelType) {\n  return channelType === 'Y' || channelType === 'YBand';\n}\nexport function isXOrY(channelType) {\n  return isX(channelType) || isY(channelType);\n}","/**\n * This is a stricter version of Object.keys but with better types.\n * See https://github.com/Microsoft/TypeScript/pull/12253#issuecomment-263132208\n */\nconst keys = Object.keys;\nexport default keys;","// Modified from vega-lite version\n// and remove unnecessary dependency\n\n/* eslint-disable no-param-reassign */\n\n/* eslint-disable no-negated-condition */\nimport keys from '../utils/keys';\n/**\n * Internal Object for defining datetime expressions.\n * This is an expression version of DateTime.\n * If both month and quarter are provided, month has higher precedence.\n * `day` cannot be combined with other date.\n */\n\nfunction invalidTimeUnit(unitName, value) {\n  return \"Invalid \" + unitName + \": \" + String(value) + \".\";\n}\n/*\n * A designated year that starts on Sunday.\n */\n\n\nconst SUNDAY_YEAR = 2006;\nconst MONTHS = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\nconst SHORT_MONTHS = MONTHS.map(m => m.slice(0, 3));\nconst DAYS = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\nconst SHORT_DAYS = DAYS.map(d => d.slice(0, 3));\n\nfunction isNumber(x) {\n  return typeof x === 'number';\n}\n/**\n * Returns whether the passed in value is a valid number.\n */\n\n\nfunction isNumeric(value) {\n  if (isNumber(value)) {\n    return true;\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  return !isNaN(value) && !isNaN(parseFloat(value));\n}\n\nexport function normalizeQuarter(q) {\n  if (isNumeric(q)) {\n    q = Number(q);\n  }\n\n  if (isNumber(q)) {\n    if (q > 4) {\n      // eslint-disable-next-line no-console\n      console.warn(invalidTimeUnit('quarter', q));\n    } // We accept 1-based quarter, so need to readjust to 0-based quarter\n\n\n    return q - 1;\n  } // Invalid quarter\n\n\n  throw new Error(invalidTimeUnit('quarter', q));\n}\nexport function normalizeMonth(m) {\n  if (isNumeric(m)) {\n    m = Number(m);\n  }\n\n  if (isNumber(m)) {\n    // We accept 1-based month, so need to readjust to 0-based month\n    return m - 1;\n  }\n\n  const lowerM = m.toLowerCase();\n  const monthIndex = MONTHS.indexOf(lowerM);\n\n  if (monthIndex !== -1) {\n    return monthIndex; // 0 for january, ...\n  }\n\n  const shortM = lowerM.slice(0, 3);\n  const shortMonthIndex = SHORT_MONTHS.indexOf(shortM);\n\n  if (shortMonthIndex !== -1) {\n    return shortMonthIndex;\n  } // Invalid month\n\n\n  throw new Error(invalidTimeUnit('month', m));\n}\nexport function normalizeDay(d) {\n  if (isNumeric(d)) {\n    d = Number(d);\n  }\n\n  if (isNumber(d)) {\n    // mod so that this can be both 0-based where 0 = sunday\n    // and 1-based where 7=sunday\n    return d % 7;\n  }\n\n  const lowerD = d.toLowerCase();\n  const dayIndex = DAYS.indexOf(lowerD);\n\n  if (dayIndex !== -1) {\n    return dayIndex; // 0 for january, ...\n  }\n\n  const shortD = lowerD.slice(0, 3);\n  const shortDayIndex = SHORT_DAYS.indexOf(shortD);\n\n  if (shortDayIndex !== -1) {\n    return shortDayIndex;\n  } // Invalid day\n\n\n  throw new Error(invalidTimeUnit('day', d));\n}\n/**\n * @param d the date.\n * @param normalize whether to normalize quarter, month, day. This should probably be true if d is a DateTime.\n * @returns array of date time parts [year, month, day, hours, minutes, seconds, milliseconds]\n */\n\nexport function dateTimeParts(d, normalize) {\n  const parts = [];\n\n  if (normalize && d.day !== undefined) {\n    if (keys(d).length > 1) {\n      d = { ...d\n      };\n      delete d.day;\n    }\n  }\n\n  if (d.year !== undefined) {\n    parts.push(d.year);\n  } else if (d.day !== undefined) {\n    // Set year to 2006 for working with day since January 1 2006 is a Sunday\n    parts.push(SUNDAY_YEAR);\n  } else {\n    parts.push(0);\n  }\n\n  if (d.month !== undefined) {\n    const month = normalize ? normalizeMonth(d.month) : d.month;\n    parts.push(month);\n  } else if (d.quarter !== undefined) {\n    const quarter = normalize ? normalizeQuarter(d.quarter) : d.quarter;\n    parts.push(isNumber(quarter) ? quarter * 3 : quarter + \"*3\");\n  } else {\n    parts.push(0); // months start at zero in JS\n  }\n\n  if (d.date !== undefined) {\n    parts.push(d.date);\n  } else if (d.day !== undefined) {\n    // HACK: Day only works as a standalone unit\n    // This is only correct because we always set year to 2006 for day\n    const day = normalize ? normalizeDay(d.day) : d.day;\n    parts.push(isNumber(day) ? day + 1 : day + \"+1\");\n  } else {\n    parts.push(1); // Date starts at 1 in JS\n  }\n\n  ['hours', 'minutes', 'seconds', 'milliseconds'].forEach(timeUnit => {\n    const unit = d[timeUnit];\n    parts.push(typeof unit === 'undefined' ? 0 : unit);\n  });\n  return parts;\n}\n/**\n * @param d the date time.\n * @returns the timestamp.\n */\n\nexport default function dateTimeToTimestamp(d) {\n  const parts = dateTimeParts(d, true);\n\n  if (d.utc) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return Number(new Date(Date.UTC(...parts)));\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  return Number(new Date(...parts));\n}","import dateTimeToTimestamp from './dateTimeToTimestamp';\nexport default function parseDateTime(dateTime) {\n  if (typeof dateTime === 'number' || typeof dateTime === 'string') {\n    return new Date(dateTime);\n  }\n\n  return new Date(dateTimeToTimestamp(dateTime));\n}","// eslint-disable-next-line import/prefer-default-export\nexport function isDateTime(o) {\n  return !!o && !(o instanceof Date) && typeof o !== 'string' && typeof o !== 'boolean' && typeof o !== 'number' && ('year' in o && o.year != null || 'quarter' in o && o.quarter != null || 'month' in o && o.month != null || 'date' in o && o.date != null || 'day' in o && o.day != null || 'hours' in o && o.hours != null || 'minutes' in o && o.minutes != null || 'seconds' in o && o.seconds != null || 'milliseconds' in o && o.milliseconds != null);\n}","export default function fallbackFormatter(v) {\n  return \"\" + v;\n}","import fallbackFormatter from './fallbackFormatter';\nimport Encodable from '../../options/Encodable';\nexport default function createFormatter({\n  formatType,\n  format,\n  formatInLocalTime\n}) {\n  if (formatType === 'time') {\n    const formatter = Encodable.resolveTimeFormat({\n      format,\n      formatInLocalTime\n    });\n    return value => formatter(value);\n  }\n\n  if (formatType === 'number' || typeof format !== 'undefined' && format.length > 0) {\n    const formatter = Encodable.resolveNumberFormat(format);\n    return value => formatter(value);\n  }\n\n  return fallbackFormatter;\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport parseDateTime from '../parsers/parseDateTime';\nimport inferElementTypeFromUnionOfArrayTypes from '../utils/inferElementTypeFromUnionOfArrayTypes';\nimport { isDateTime } from '../typeGuards/DateTime';\nimport createFormatter from '../parsers/format/createFormatter';\nexport default class ChannelEncoderAxis {\n  constructor(channelEncoder) {\n    _defineProperty(this, \"channelEncoder\", void 0);\n\n    _defineProperty(this, \"config\", void 0);\n\n    _defineProperty(this, \"formatValue\", void 0);\n\n    this.channelEncoder = channelEncoder;\n    this.config = channelEncoder.definition.axis;\n    this.formatValue = createFormatter(this.config);\n  }\n\n  getTitle() {\n    return this.config.title;\n  }\n\n  hasTitle() {\n    const {\n      title\n    } = this.config;\n    return title !== null && typeof title !== 'undefined' && title !== '';\n  }\n\n  getTickLabels() {\n    const {\n      tickCount,\n      values\n    } = this.config;\n\n    if (typeof values !== 'undefined') {\n      return inferElementTypeFromUnionOfArrayTypes(values).map(v => this.formatValue(isDateTime(v) ? parseDateTime(v) : v));\n    }\n\n    const {\n      scale\n    } = this.channelEncoder;\n\n    if (scale && 'domain' in scale) {\n      const ticks = 'ticks' in scale ? scale.ticks(tickCount) : scale.domain();\n      return ticks.map(this.formatValue);\n    }\n\n    return [];\n  }\n\n}","import isDisabled from './isDisabled';\nexport default function isEnabled(config) {\n  return !isDisabled(config);\n}","export default function isDisabled(config) {\n  return config === false || config === null;\n}","import { isX } from '../typeGuards/Channel';\nexport const STRATEGY_FLAT = {\n  strategy: 'flat'\n};\nconst STRATEGY_ROTATE = {\n  labelAngle: 40,\n  strategy: 'rotate'\n};\nexport default function expandLabelOverlapStrategy(channelType, labelOverlap = 'auto') {\n  let output;\n\n  switch (labelOverlap) {\n    case 'flat':\n      output = STRATEGY_FLAT;\n      break;\n\n    case 'rotate':\n      output = STRATEGY_ROTATE;\n      break;\n\n    case 'auto':\n      output = isX(channelType) ? STRATEGY_ROTATE : STRATEGY_FLAT;\n      break;\n\n    default:\n      output = labelOverlap;\n      break;\n  }\n\n  return { ...output\n  };\n}","import { ScaleType } from '../../types'; // Grouped by domain and range\n\nexport const continuousToContinuousScaleTypes = [ScaleType.LINEAR, ScaleType.POW, ScaleType.SQRT, ScaleType.SYMLOG, ScaleType.LOG, ScaleType.TIME, ScaleType.UTC];\nexport const continuousToContinuousScaleTypesSet = new Set(continuousToContinuousScaleTypes);\nexport const continuousToDiscreteScaleTypes = [ScaleType.QUANTILE, ScaleType.QUANTIZE, ScaleType.THRESHOLD];\nexport const continuousToDiscreteScaleTypesSet = new Set(continuousToDiscreteScaleTypes); // Grouped by Domain\n\nexport const continuousDomainScaleTypes = continuousToContinuousScaleTypes.concat(continuousToDiscreteScaleTypes);\nexport const continuousDomainScaleTypesSet = new Set(continuousDomainScaleTypes);\nexport const discreteDomainScaleTypes = [ScaleType.ORDINAL, ScaleType.BIN_ORDINAL, ScaleType.POINT, ScaleType.BAND];\nexport const discreteDomainScaleTypesSet = new Set(discreteDomainScaleTypes); // Three broad categories\n\nexport const continuousScaleTypes = continuousToContinuousScaleTypes;\nexport const continuousScaleTypesSet = continuousToContinuousScaleTypesSet;\nexport const discreteScaleTypes = [ScaleType.BAND, ScaleType.POINT, ScaleType.ORDINAL];\nexport const discreteScaleTypesSet = new Set(discreteScaleTypes);\nexport const discretizingScaleTypes = [ScaleType.BIN_ORDINAL, ScaleType.QUANTILE, ScaleType.QUANTIZE, ScaleType.THRESHOLD];\nexport const discretizingScaleTypesSet = new Set(discretizingScaleTypes); // Others\n\nexport const timeScaleTypes = [ScaleType.TIME, ScaleType.UTC];\nexport const timeScaleTypesSet = new Set(timeScaleTypes);\nexport const allScaleTypes = [ScaleType.LINEAR, ScaleType.LOG, ScaleType.POW, ScaleType.SQRT, ScaleType.SYMLOG, ScaleType.TIME, ScaleType.UTC, ScaleType.QUANTILE, ScaleType.QUANTIZE, ScaleType.THRESHOLD, ScaleType.BIN_ORDINAL, ScaleType.ORDINAL, ScaleType.POINT, ScaleType.BAND];\nexport const allScaleTypesSet = new Set(allScaleTypes);","import { ScaleType } from '../types';\n/**\n * Sometimes scale type is not specified but can be inferred\n * from other fields.\n * See https://vega.github.io/vega-lite/docs/scale.html\n * @param channelType type of the channel\n * @param fieldType type of the field\n * @param bin is value binned\n */\n\nexport default function inferScaleType(channelType, fieldType, bin = false) {\n  if (fieldType === 'nominal' || fieldType === 'ordinal') {\n    switch (channelType) {\n      // For positional (x and y) ordinal and ordinal fields,\n      // \"point\" is the default scale type for all marks\n      // except bar and rect marks, which use \"band\" scales.\n      // https://vega.github.io/vega-lite/docs/scale.html\n      case 'XBand':\n      case 'YBand':\n        return ScaleType.BAND;\n\n      case 'X':\n      case 'Y':\n      case 'Numeric':\n        return ScaleType.POINT;\n\n      case 'Color':\n      case 'Category':\n        return ScaleType.ORDINAL;\n\n      default:\n    }\n  } else if (fieldType === 'quantitative') {\n    switch (channelType) {\n      case 'XBand':\n      case 'YBand':\n      case 'X':\n      case 'Y':\n      case 'Numeric':\n        return ScaleType.LINEAR;\n\n      case 'Color':\n        return bin ? ScaleType.BIN_ORDINAL : ScaleType.LINEAR;\n\n      default:\n    }\n  } else if (fieldType === 'temporal') {\n    switch (channelType) {\n      case 'XBand':\n      case 'YBand':\n      case 'X':\n      case 'Y':\n      case 'Numeric':\n        return ScaleType.UTC;\n\n      case 'Color':\n        return ScaleType.LINEAR;\n\n      default:\n    }\n  }\n\n  return undefined;\n}","import { ScaleType } from '../../types';\nimport { allScaleTypesSet, allScaleTypes, continuousDomainScaleTypes, continuousScaleTypes, continuousScaleTypesSet } from './scaleCategories';\nconst pointOrBand = [ScaleType.POINT, ScaleType.BAND];\nconst pointOrBandSet = new Set(pointOrBand);\nconst exceptPointOrBand = allScaleTypes.filter(type => !pointOrBandSet.has(type));\nconst exceptPointOrBandSet = new Set(exceptPointOrBand);\nconst continuousOrPointOrBandSet = new Set(continuousScaleTypes.concat(pointOrBand));\nconst zeroSet = new Set(continuousDomainScaleTypes); // log scale cannot have zero value\n\nzeroSet.delete(ScaleType.LOG); // zero is not meaningful for time\n\nzeroSet.delete(ScaleType.TIME);\nzeroSet.delete(ScaleType.UTC); // threshold requires custom domain so zero does not matter\n\nzeroSet.delete(ScaleType.THRESHOLD); // quantile depends on distribution so zero does not matter\n\nzeroSet.delete(ScaleType.QUANTILE);\nconst supportedScaleTypes = {\n  align: pointOrBandSet,\n  base: new Set([ScaleType.LOG]),\n  clamp: continuousScaleTypesSet,\n  constant: new Set([ScaleType.SYMLOG]),\n  domain: allScaleTypesSet,\n  exponent: new Set([ScaleType.POW]),\n  interpolate: exceptPointOrBandSet,\n  nice: new Set(continuousScaleTypes.concat([ScaleType.QUANTIZE, ScaleType.THRESHOLD])),\n  padding: continuousOrPointOrBandSet,\n  paddingInner: new Set([ScaleType.BAND]),\n  paddingOuter: pointOrBandSet,\n  range: allScaleTypesSet,\n  reverse: allScaleTypesSet,\n  round: continuousOrPointOrBandSet,\n  scheme: exceptPointOrBandSet,\n  type: allScaleTypesSet,\n  unknown: new Set([ScaleType.ORDINAL]),\n  zero: zeroSet\n};\nexport default function isPropertySupportedByScaleType(property, scaleType) {\n  return supportedScaleTypes[property].has(scaleType);\n}","import isPropertySupportedByScaleType from '../parsers/scale/isPropertySupportedByScaleType';\nimport { continuousScaleTypesSet, discretizingScaleTypesSet, discreteScaleTypesSet } from '../parsers/scale/scaleCategories';\nexport function isContinuousScaleConfig(config) {\n  return continuousScaleTypesSet.has(config.type);\n}\nexport function isDiscretizingScaleConfig(config) {\n  return discretizingScaleTypesSet.has(config.type);\n}\nexport function isDiscreteScaleConfig(config) {\n  return discreteScaleTypesSet.has(config.type);\n}\nexport function isScaleConfigWithZero(config) {\n  return isPropertySupportedByScaleType('zero', config.type);\n}","import { isXOrY } from '../typeGuards/Channel';\nconst temporalFieldNames = new Set(['time', 'date', 'datetime', 'timestamp']);\nexport default function inferFieldType(channelType, field = '') {\n  if (isXOrY(channelType) || channelType === 'Numeric') {\n    return temporalFieldNames.has(field.toLowerCase()) ? 'temporal' : 'quantitative';\n  }\n\n  return 'nominal';\n}","import { isFieldDef, isValueDef, isTypedFieldDef } from '../typeGuards/ChannelDef';\nimport completeAxisConfig from './completeAxisConfig';\nimport completeFormatConfig from './completeFormatConfig';\nimport completeLegendConfig from './completeLegendConfig';\nimport completeScaleConfig from './completeScaleConfig';\nimport inferFieldType from './inferFieldType';\nexport default function completeChannelDef(channelType, channelDef) {\n  var _channelDef$title;\n\n  if (isValueDef(channelDef)) {\n    return { ...channelDef,\n      axis: false,\n      legend: false,\n      scale: false,\n      title: ''\n    };\n  } // Fill top-level properties\n\n\n  const copy = { ...channelDef,\n    title: isFieldDef(channelDef) ? (_channelDef$title = channelDef.title) != null ? _channelDef$title : channelDef.field : '',\n    type: isTypedFieldDef(channelDef) ? channelDef.type : inferFieldType(channelType, channelDef.field)\n  }; // Scale needs the top-level properties to be filled.\n\n  const scale = completeScaleConfig(channelType, copy); // Format needs scale.\n\n  const format = completeFormatConfig({ ...channelDef,\n    scaleType: scale ? scale.type : undefined\n  });\n  const copy2 = { ...copy,\n    ...format,\n    scale\n  }; // These need scale and format\n\n  const axis = completeAxisConfig(channelType, copy2);\n  const legend = completeLegendConfig(channelType, copy2);\n  return { ...copy2,\n    axis,\n    legend\n  };\n}","import inferScaleType from './inferScaleType';\nimport { isTypedFieldDef } from '../typeGuards/ChannelDef';\nimport { isContinuousScaleConfig, isScaleConfigWithZero } from '../typeGuards/ScaleConfig';\nimport isEnabled from '../utils/isEnabled';\nimport { timeScaleTypesSet } from '../parsers/scale/scaleCategories';\nexport default function completeScaleConfig(channelType, channelDef) {\n  if (isTypedFieldDef(channelDef) && isEnabled(channelDef.scale)) {\n    const {\n      scale = {},\n      type,\n      bin\n    } = channelDef;\n    const {\n      type: scaleType = inferScaleType(channelType, type, bin)\n    } = scale;\n\n    if (typeof scaleType === 'undefined') {\n      return false;\n    } // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n\n\n    const filledScale = { ...scale,\n      type: scaleType\n    };\n\n    if (isContinuousScaleConfig(filledScale)) {\n      if (typeof filledScale.nice === 'undefined') {\n        filledScale.nice = !timeScaleTypesSet.has(scaleType);\n      }\n\n      if (typeof filledScale.clamp === 'undefined') {\n        filledScale.clamp = true;\n      }\n    }\n\n    if (isScaleConfigWithZero(filledScale) && typeof filledScale.zero === 'undefined') {\n      filledScale.zero = true;\n    }\n\n    return filledScale;\n  }\n\n  return false;\n}","export default function completeFormatConfig(config) {\n  const {\n    formatType,\n    formatInLocalTime,\n    format,\n    type,\n    scaleType\n  } = config;\n  let resolvedFormatType;\n\n  if (typeof formatType !== 'undefined') {\n    resolvedFormatType = formatType;\n  } else if (type === 'quantitative') {\n    resolvedFormatType = 'number';\n  } else if (type === 'temporal' || scaleType === 'time' || scaleType === 'utc') {\n    resolvedFormatType = 'time';\n  } else if (typeof format !== 'undefined' && format.length > 0) {\n    resolvedFormatType = 'number';\n  }\n\n  if (resolvedFormatType === 'time') {\n    return {\n      formatType: 'time',\n      formatInLocalTime: formatInLocalTime || typeof formatInLocalTime === 'undefined' && scaleType === 'time',\n      format\n    };\n  }\n\n  return {\n    formatType: resolvedFormatType,\n    format\n  };\n}","import isEnabled from '../utils/isEnabled';\nimport { isXOrY, isX } from '../typeGuards/Channel';\nimport { isTypedFieldDef } from '../typeGuards/ChannelDef';\nimport expandLabelOverlapStrategy from './expandLabelOverlapStrategy';\nimport { continuousToContinuousScaleTypesSet } from '../parsers/scale/scaleCategories';\n\nfunction isChannelDefWithAxisSupport(channelType, channelDef) {\n  return isTypedFieldDef(channelDef) && isXOrY(channelType);\n}\n\nexport default function completeAxisConfig(channelType, channelDef) {\n  if (isChannelDefWithAxisSupport(channelType, channelDef) && isEnabled(channelDef.axis)) {\n    const axis = channelDef.axis === true || typeof channelDef.axis === 'undefined' ? {} : channelDef.axis;\n    const isXChannel = isX(channelType);\n    const {\n      format = channelDef.format,\n      formatType = channelDef.formatType,\n      formatInLocalTime = channelDef.formatInLocalTime,\n      labelAngle = 0,\n      labelFlush,\n      labelOverlap,\n      labelPadding = 4,\n      orient = isXChannel ? 'bottom' : 'left',\n      tickCount = 5,\n      ticks = true,\n      title = channelDef.title,\n      titlePadding = 4\n    } = axis;\n    const output = { ...axis,\n      format,\n      formatType,\n      labelAngle,\n      labelFlush: typeof labelFlush === 'undefined' ? channelDef.scale && typeof channelDef.scale.type !== 'undefined' && continuousToContinuousScaleTypesSet.has(channelDef.scale.type) : labelFlush,\n      labelOverlap: expandLabelOverlapStrategy(channelType, labelOverlap),\n      labelPadding,\n      orient,\n      tickCount,\n      ticks,\n      title,\n      titlePadding\n    };\n\n    if (typeof formatInLocalTime !== 'undefined') {\n      output.formatInLocalTime = formatInLocalTime;\n    }\n\n    return output;\n  }\n\n  return false;\n}","import { isXOrY } from '../typeGuards/Channel';\nexport default function completeLegendConfig(channelType, channelDef) {\n  if ('legend' in channelDef && channelDef.legend !== undefined) {\n    return channelDef.legend;\n  }\n\n  return isXOrY(channelType) || channelType === 'Text' ? false : {};\n}","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport millisecond from \"./millisecond.js\";\nimport second from \"./second.js\";\nimport minute from \"./minute.js\";\nimport hour from \"./hour.js\";\nimport day from \"./day.js\";\nimport {sunday as week} from \"./week.js\";\nimport month from \"./month.js\";\nimport year from \"./year.js\";\nimport utcMinute from \"./utcMinute.js\";\nimport utcHour from \"./utcHour.js\";\nimport utcDay from \"./utcDay.js\";\nimport {utcSunday as utcWeek} from \"./utcWeek.js\";\nimport utcMonth from \"./utcMonth.js\";\nimport utcYear from \"./utcYear.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(year, month, week, day, hour, minute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import { scaleLinear, scaleLog, scalePow, scaleSqrt, scaleTime, scaleUtc, scaleQuantile, scaleQuantize, scaleThreshold, scaleOrdinal, scalePoint, scaleBand, scaleSymlog } from 'd3-scale';\nimport { ScaleType } from '../../types';\nexport default function createScaleFromScaleType(type) {\n  switch (type) {\n    case ScaleType.LINEAR:\n      return scaleLinear();\n\n    case ScaleType.LOG:\n      return scaleLog();\n\n    case ScaleType.POW:\n      return scalePow();\n\n    case ScaleType.SQRT:\n      return scaleSqrt();\n\n    case ScaleType.TIME:\n      return scaleTime();\n\n    case ScaleType.UTC:\n      return scaleUtc();\n\n    case ScaleType.QUANTILE:\n      return scaleQuantile();\n\n    case ScaleType.QUANTIZE:\n      return scaleQuantize();\n\n    case ScaleType.THRESHOLD:\n      return scaleThreshold();\n\n    case ScaleType.ORDINAL:\n      return scaleOrdinal();\n\n    case ScaleType.POINT:\n      return scalePoint();\n\n    case ScaleType.BAND:\n      return scaleBand();\n\n    case ScaleType.SYMLOG:\n      return scaleSymlog();\n\n    case ScaleType.BIN_ORDINAL:\n      // TODO: Pending scale.bins implementation\n      throw new Error(\"\\\"type = \" + type + \"\\\" is not supported yet.\");\n\n    default:\n      return scaleLinear();\n  }\n}","import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import { timeSecond, timeMinute, timeHour, timeDay, timeYear, timeMonth, timeWeek, utcSecond, utcMinute, utcHour, utcDay, utcWeek, utcMonth, utcYear } from 'd3-time';\nimport { ScaleType } from '../../types';\nconst localTimeIntervals = {\n  day: timeDay,\n  hour: timeHour,\n  minute: timeMinute,\n  month: timeMonth,\n  second: timeSecond,\n  week: timeWeek,\n  year: timeYear\n};\nconst utcIntervals = {\n  day: utcDay,\n  hour: utcHour,\n  minute: utcMinute,\n  month: utcMonth,\n  second: utcSecond,\n  week: utcWeek,\n  year: utcYear\n};\nexport default function applyNice(config, scale) {\n  if ('nice' in config && typeof config.nice !== 'undefined' && 'nice' in scale) {\n    const {\n      nice\n    } = config;\n\n    if (typeof nice === 'boolean') {\n      if (nice) {\n        scale.nice();\n      }\n    } else if (typeof nice === 'number') {\n      scale.nice(nice);\n    } else {\n      const timeScale = scale;\n      const {\n        type\n      } = config;\n\n      if (typeof nice === 'string') {\n        timeScale.nice(type === ScaleType.UTC ? utcIntervals[nice] : localTimeIntervals[nice]);\n      } else {\n        const {\n          interval,\n          step\n        } = nice;\n        const parsedInterval = (type === ScaleType.UTC ? utcIntervals[interval] : localTimeIntervals[interval]).every(step);\n\n        if (parsedInterval !== null) {\n          timeScale.nice(parsedInterval);\n        }\n      }\n    }\n  }\n}","import { timeScaleTypesSet, continuousScaleTypesSet, discretizingScaleTypesSet, discreteScaleTypesSet } from '../parsers/scale/scaleCategories';\nexport function isContinuousScale(scale, scaleType) {\n  return scale && continuousScaleTypesSet.has(scaleType);\n}\nexport function isDiscretizingScale(scale, scaleType) {\n  return scale && discretizingScaleTypesSet.has(scaleType);\n}\nexport function isDiscreteScale(scale, scaleType) {\n  return scale && discreteScaleTypesSet.has(scaleType);\n}\nexport function isTimeScale(scale, scaleType) {\n  return scale && timeScaleTypesSet.has(scaleType);\n}","import { isContinuousScale } from '../../typeGuards/Scale';\nexport default function applyZero(config, scale) {\n  if ('zero' in config && config.zero === true && isContinuousScale(scale, config.type)) {\n    const domain = scale.domain();\n    const [a, b] = domain;\n    const isDescending = b < a;\n    const [min, max] = isDescending ? [b, a] : [a, b];\n    const domainWithZero = [Math.min(0, min), Math.max(0, max)];\n    scale.domain(isDescending ? domainWithZero.reverse() : domainWithZero);\n  }\n}","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import { interpolateRgb, interpolateLab, interpolateHcl, interpolateHclLong, interpolateHsl, interpolateHslLong, interpolateCubehelix, interpolateCubehelixLong } from 'd3-interpolate';\nconst interpolatorMap = {\n  lab: interpolateLab,\n  hcl: interpolateHcl,\n  'hcl-long': interpolateHclLong,\n  hsl: interpolateHsl,\n  'hsl-long': interpolateHslLong,\n  cubehelix: interpolateCubehelix,\n  'cubehelix-long': interpolateCubehelixLong,\n  rgb: interpolateRgb\n};\nexport default function createColorInterpolator(interpolate) {\n  switch (interpolate) {\n    case 'lab':\n    case 'hcl':\n    case 'hcl-long':\n    case 'hsl':\n    case 'hsl-long':\n    case 'cubehelix':\n    case 'cubehelix-long':\n    case 'rgb':\n      return interpolatorMap[interpolate];\n\n    default:\n  }\n\n  const {\n    type,\n    gamma\n  } = interpolate;\n  const interpolator = interpolatorMap[type];\n  return typeof gamma === 'undefined' ? interpolator : interpolator.gamma(gamma);\n}","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import { timeScaleTypesSet } from '../scale/scaleCategories';\n/**\n * Convert each element in the array into\n * - Date (for time scales)\n * - number (for other continuous scales)\n * @param domain\n * @param scaleType\n */\n\nexport default function parseContinuousDomain(domain, scaleType) {\n  if (timeScaleTypesSet.has(scaleType)) {\n    return domain.filter(d => typeof d !== 'boolean').map(d => typeof d === 'string' || typeof d === 'number' ? new Date(d) : d);\n  }\n\n  return domain.map(d => typeof d === 'string' || typeof d === 'boolean' ? Number(d) : d);\n}","/**\n * Discrete domains are converted into string[]\n * when using D3 scales\n * @param domain\n */\nexport default function parseDiscreteDomain(domain) {\n  return domain.map(d => \"\" + d);\n}","export default function removeUndefinedAndNull(array) {\n  return array.filter(x => typeof x !== 'undefined' && x !== null);\n}","import { isDateTime } from '../typeGuards/DateTime';\nimport parseDateTime from './parseDateTime';\n/**\n * Only parse elements that are DateTime to Date.\n * Leave the rest alone.\n * @param array\n */\n\nexport default function parseDateTimeIn(array) {\n  return array.map(d => !(d instanceof Date) && isDateTime(d) ? parseDateTime(d) : d);\n}","import { isContinuousScale, isDiscretizingScale, isDiscreteScale } from '../../typeGuards/Scale';\nimport { isContinuousScaleConfig, isDiscretizingScaleConfig, isDiscreteScaleConfig } from '../../typeGuards/ScaleConfig';\nimport parseContinuousDomain from '../domain/parseContinuousDomain';\nimport parseDiscreteDomain from '../domain/parseDiscreteDomain';\nimport combineCategories from '../../utils/combineCategories';\nimport combineContinuousDomains from '../../utils/combineContinuousDomains';\nimport removeUndefinedAndNull from '../../utils/removeUndefinedAndNull';\nimport parseDateTimeIn from '../parseDateTimeIn';\n\nfunction createOrderFunction(reverse) {\n  return reverse ? array => array.concat().reverse() : array => array;\n}\n\nfunction isCompleteDomain(domain) {\n  return domain.length !== 2 || domain[0] != null && domain[1] != null;\n}\n\nexport default function applyDomain(config, scale,\n/** domain from dataset */\ndataDomain) {\n  const {\n    reverse,\n    type\n  } = config;\n  const order = createOrderFunction(reverse);\n\n  if (isContinuousScale(scale, type) && isContinuousScaleConfig(config) || isDiscretizingScale(scale, type) && isDiscretizingScaleConfig(config)) {\n    // For continuous and discretizing scales\n    if (config.domain) {\n      // If config.domain is specified\n      if (isCompleteDomain(config.domain)) {\n        // If the config.domain is completed\n        // ignores the dataDomain\n        scale.domain(order(parseDateTimeIn(config.domain)));\n      } else if (dataDomain) {\n        // If it is incompleted, then try to combine\n        // with the dataDomain\n        scale.domain(order(combineContinuousDomains(parseContinuousDomain(parseDateTimeIn(config.domain), type), parseContinuousDomain(removeUndefinedAndNull(dataDomain), type))));\n      }\n    } else if (dataDomain) {\n      // If no config.domain then just use the dataDomain if any\n      scale.domain(order(parseContinuousDomain(removeUndefinedAndNull(dataDomain), type)));\n    }\n  } else if (isDiscreteScale(scale, type) && isDiscreteScaleConfig(config)) {\n    // For discrete scales\n    if (config.domain) {\n      const fixedDomain = parseDiscreteDomain(parseDateTimeIn(config.domain));\n      scale.domain(order(dataDomain ? combineCategories(fixedDomain, parseDiscreteDomain(dataDomain)) : fixedDomain));\n    } else if (dataDomain) {\n      // If no config.domain then just use the dataDomain if any\n      scale.domain(order(parseDiscreteDomain(dataDomain)));\n    }\n  }\n}","import { isEveryElementDefined, isDefined } from '../typeGuards/Base';\n/**\n * Combine two continuous domain and ensure that the output\n * does not go beyond fixedDomain\n * @param bounds\n * @param dataDomain\n */\n\nexport default function combineContinuousDomains(bounds, dataDomain) {\n  if (bounds.length > 0 && isEveryElementDefined(bounds)) {\n    return bounds;\n  }\n\n  if (bounds.length === 2 && dataDomain.length === 2 && bounds.filter(isDefined).length > 0) {\n    const [boundMin, boundMax] = bounds;\n    const [dataMin, dataMax] = dataDomain;\n    let min = dataMin;\n\n    if (isDefined(boundMin)) {\n      min = boundMin.valueOf() > dataMin.valueOf() ? boundMin : dataMin;\n    }\n\n    let max = dataMax;\n\n    if (isDefined(boundMax)) {\n      max = boundMax.valueOf() < dataMax.valueOf() ? boundMax : dataMax;\n    }\n\n    return [min, max];\n  }\n\n  return dataDomain;\n}","/**\n * Combine two arrays into a unique list\n * by keeping the order the fixedCategories\n * and append new categories at the end.\n * @param fixedCategories\n * @param inputCategories\n */\nexport default function combineCategories(fixedCategories, inputCategories = []) {\n  if (fixedCategories.length === 0) {\n    return inputCategories;\n  }\n\n  const fixedSet = new Set(fixedCategories);\n  return fixedCategories.concat(inputCategories.filter(d => !fixedSet.has(d)));\n}","// eslint-disable-next-line import/prefer-default-export\nexport function isSchemeParams(scheme) {\n  return Object.prototype.toString.call(scheme) !== '[object String]';\n}","import { wrapColorScheme } from '@encodable/color';\nimport Encodable from '../../options/Encodable';\nimport { isContinuousScaleConfig } from '../../typeGuards/ScaleConfig';\nimport { isSchemeParams } from '../../typeGuards/SchemeParams';\nexport default function applyRange(config, scale) {\n  const {\n    range,\n    domain\n  } = config;\n\n  if (typeof range === 'undefined') {\n    if ('scheme' in config && typeof config.scheme !== 'undefined') {\n      const {\n        scheme\n      } = config;\n      let name;\n      let count;\n\n      if (isContinuousScaleConfig(config) && domain) {\n        count = domain.length;\n      }\n\n      let extent;\n\n      if (isSchemeParams(scheme)) {\n        name = scheme.name;\n\n        if (scheme.count) {\n          count = scheme.count;\n        }\n\n        extent = scheme.extent;\n      } else {\n        name = scheme;\n      }\n\n      const schemeObject = Encodable.resolveColorScheme({\n        name,\n        type: 'sequential'\n      });\n\n      if (typeof schemeObject !== 'undefined' && schemeObject.type === 'sequential') {\n        const wrappedScheme = wrapColorScheme(schemeObject);\n        scale.range(wrappedScheme.getColors(count, extent));\n      }\n    }\n  } else {\n    // TODO: add type guard should fix this problem\n    // @ts-ignore\n    scale.range(range);\n  }\n}","import applyAlign from './applyAlign';\nimport applyBase from './applyBase';\nimport applyClamp from './applyClamp';\nimport applyExponent from './applyExponent';\nimport applyNice from './applyNice';\nimport applyZero from './applyZero';\nimport applyInterpolate from './applyInterpolate';\nimport applyRound from './applyRound';\nimport applyDomain from './applyDomain';\nimport applyRange from './applyRange';\nimport applyPadding from './applyPadding';\nexport default function updateScale(scale, config) {\n  // domain and range apply to all scales\n  applyDomain(config, scale);\n  applyRange(config, scale); // Sort other properties alphabetically.\n\n  applyAlign(config, scale);\n  applyBase(config, scale);\n  applyClamp(config, scale);\n  applyExponent(config, scale);\n  applyInterpolate(config, scale); // Nice depends on domain.\n\n  applyNice(config, scale);\n  applyPadding(config, scale);\n  applyRound(config, scale); // Zero depends on domain and nice.\n\n  applyZero(config, scale);\n  return scale;\n}","export default function applyAlign(config, scale) {\n  if ('align' in config && typeof config.align !== 'undefined' && 'align' in scale) {\n    scale.align(config.align);\n  }\n}","export default function applyBase(config, scale) {\n  if ('base' in config && typeof config.base !== 'undefined' && 'base' in scale) {\n    scale.base(config.base);\n  }\n}","export default function applyClamp(config, scale) {\n  if ('clamp' in config && config.clamp === true && 'clamp' in scale) {\n    scale.clamp(config.clamp);\n  }\n}","export default function applyExponent(config, scale) {\n  if ('exponent' in config && typeof config.exponent !== 'undefined' && 'exponent' in scale) {\n    scale.exponent(config.exponent);\n  }\n}","import createColorInterpolator from './createColorInterpolator';\nexport default function applyInterpolate(config, scale) {\n  if ('interpolate' in config && typeof config.interpolate !== 'undefined' && 'interpolate' in scale) {\n    scale.interpolate(createColorInterpolator(config.interpolate));\n  }\n}","export default function applyPadding(config, scale) {\n  if ('padding' in config && typeof config.padding !== 'undefined' && 'padding' in scale) {\n    scale.padding(config.padding);\n  }\n\n  if ('paddingInner' in config && typeof config.paddingInner !== 'undefined' && 'paddingInner' in scale) {\n    scale.paddingInner(config.paddingInner);\n  }\n\n  if ('paddingOuter' in config && typeof config.paddingOuter !== 'undefined' && 'paddingOuter' in scale) {\n    scale.paddingOuter(config.paddingOuter);\n  }\n}","import { interpolateRound } from 'd3-interpolate';\nexport default function applyRound(config, scale) {\n  if ('round' in config && config.round === true) {\n    const roundableScale = scale;\n\n    if ('round' in roundableScale) {\n      roundableScale.round(config.round);\n    } else {\n      roundableScale.interpolate(interpolateRound);\n    }\n  }\n}","export default function identity(x) {\n  return x;\n}","export function isCompleteValueDef(def) {\n  return 'value' in def;\n}\nexport function isCompleteFieldDef(def) {\n  return 'field' in def;\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { extent as d3Extent } from 'd3-array';\nimport { ScaleType } from '../types';\nimport { isTypedFieldDef, isValueDef, isFieldDef } from '../typeGuards/ChannelDef';\nimport { isX, isY, isXOrY } from '../typeGuards/Channel';\nimport ChannelEncoderAxis from './ChannelEncoderAxis';\nimport createGetterFromChannelDef from '../parsers/createGetterFromChannelDef';\nimport completeChannelDef from '../fillers/completeChannelDef';\nimport createScale from '../parsers/scale/createScale';\nimport identity from '../utils/identity';\nimport applyDomain from '../parsers/scale/applyDomain';\nimport applyRange from '../parsers/scale/applyRange';\nimport applyZero from '../parsers/scale/applyZero';\nimport applyNice from '../parsers/scale/applyNice';\nimport { isCompleteValueDef, isCompleteFieldDef } from '../typeGuards/CompleteChannelDef';\nimport fallbackFormatter from '../parsers/format/fallbackFormatter';\nimport createFormatter from '../parsers/format/createFormatter';\nexport default class ChannelEncoder {\n  constructor({\n    name,\n    channelType,\n    definition: originalDefinition\n  }) {\n    _defineProperty(this, \"name\", void 0);\n\n    _defineProperty(this, \"channelType\", void 0);\n\n    _defineProperty(this, \"originalDefinition\", void 0);\n\n    _defineProperty(this, \"definition\", void 0);\n\n    _defineProperty(this, \"scale\", void 0);\n\n    _defineProperty(this, \"axis\", void 0);\n\n    _defineProperty(this, \"getValue\", void 0);\n\n    _defineProperty(this, \"encodeFunc\", void 0);\n\n    _defineProperty(this, \"formatValue\", void 0);\n\n    _defineProperty(this, \"encodeValue\", (value, otherwise) => {\n      if (typeof otherwise !== 'undefined' && (value === null || typeof value === 'undefined')) {\n        return otherwise;\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n      return this.encodeFunc(value);\n    });\n\n    _defineProperty(this, \"encodeDatum\", (datum, otherwise) => typeof otherwise === 'undefined' ? this.encodeValue(this.getValueFromDatum(datum)) : this.encodeValue(this.getValueFromDatum(datum), otherwise));\n\n    _defineProperty(this, \"formatDatum\", datum => this.formatValue(this.getValueFromDatum(datum)));\n\n    _defineProperty(this, \"getValueFromDatum\", (datum, otherwise) => {\n      const value = this.getValue(datum);\n      return otherwise !== undefined && (value === null || value === undefined) ? otherwise : value;\n    });\n\n    _defineProperty(this, \"getDomainFromDataset\", data => {\n      if (isValueDef(this.definition)) {\n        const {\n          value\n        } = this.definition;\n        return [value];\n      }\n\n      const {\n        type\n      } = this.definition;\n\n      if (type === 'nominal' || type === 'ordinal') {\n        return Array.from(new Set(data.map(d => this.getValueFromDatum(d))));\n      }\n\n      if (type === 'quantitative') {\n        // Quantile scale needs all items\n        // because it treats domain as a discrete set of sample values\n        // for computing the quantiles\n        if (this.definition.scale && this.definition.scale.type === 'quantile') {\n          return data.map(d => this.getValueFromDatum(d));\n        }\n\n        const extent = d3Extent(data, d => this.getValueFromDatum(d));\n        return typeof extent[0] === 'undefined' ? [0, 1] : extent;\n      }\n\n      if (type === 'temporal') {\n        const extent = d3Extent(data, d => this.getValueFromDatum(d));\n        return typeof extent[0] === 'undefined' ? [0, 1] : extent;\n      }\n\n      return [];\n    });\n\n    this.name = name;\n    this.channelType = channelType;\n    this.originalDefinition = originalDefinition;\n    this.definition = completeChannelDef(this.channelType, originalDefinition);\n    this.getValue = createGetterFromChannelDef(this.definition);\n    this.formatValue = isFieldDef(this.definition) ? createFormatter(this.definition) : fallbackFormatter;\n\n    if (this.definition.scale) {\n      const scale = createScale(this.definition.scale); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      this.encodeFunc = value => scale(value);\n\n      this.scale = scale;\n    } else {\n      const {\n        definition\n      } = this;\n      this.encodeFunc = isCompleteValueDef(definition) ? () => definition.value : identity;\n    }\n\n    if (this.definition.axis) {\n      this.axis = new ChannelEncoderAxis(this);\n    }\n  }\n\n  getDomain() {\n    if (this.scale && 'domain' in this.scale) {\n      return this.scale.domain();\n    }\n\n    return [];\n  }\n\n  setDomain(domain) {\n    if (this.definition.scale !== false && this.scale && !this.hasCategoricalColorScale() && 'domain' in this.scale) {\n      const config = this.definition.scale;\n      applyDomain(config, this.scale, domain);\n      applyRange(config, this.scale);\n      applyZero(config, this.scale);\n      applyNice(config, this.scale);\n    }\n\n    return this;\n  }\n\n  setDomainFromDataset(data) {\n    return this.scale && 'domain' in this.scale ? this.setDomain(this.getDomainFromDataset(data)) : this;\n  }\n\n  getTitle() {\n    return this.definition.title;\n  }\n\n  isGroupBy() {\n    if (isTypedFieldDef(this.definition)) {\n      const {\n        type\n      } = this.definition;\n      return this.channelType === 'Category' || this.channelType === 'Text' || this.channelType === 'Color' && (type === 'nominal' || type === 'ordinal') || isXOrY(this.channelType) && (type === 'nominal' || type === 'ordinal');\n    }\n\n    return false;\n  }\n\n  isX() {\n    return isX(this.channelType);\n  }\n\n  isXOrY() {\n    return isXOrY(this.channelType);\n  }\n\n  isY() {\n    return isY(this.channelType);\n  }\n\n  hasCategoricalColorScale() {\n    const config = this.definition.scale; // Scale type is ordinal with not given range\n    // (may have optional scheme)\n    // will become a categorical scale\n    // of named color scheme.\n    // A color scale from named color scheme may be shared among multiple components\n    // in the same namespace by default, so changing its domain affect all components.\n    // (Sounds like a bad idea.)\n    // This function is currently only being used to check\n    // whether to apply domain from dataset or not.\n    // An ordinal scale with user-specified color scheme as range array\n    // will return false from this function and be excluded from it.\n\n    return this.scale && config && config.type === ScaleType.ORDINAL && typeof config.range === 'undefined';\n  }\n\n  hasLegend() {\n    return this.definition.legend !== false;\n  }\n\n  hasValueDefinition() {\n    return isCompleteValueDef(this.definition);\n  }\n\n  hasFieldDefinition() {\n    return isCompleteFieldDef(this.definition);\n  }\n\n}","import get from 'lodash.get';\nimport { isValueDef } from '../typeGuards/ChannelDef';\nexport default function createGetterFromChannelDef(definition) {\n  if (isValueDef(definition)) {\n    return () => definition.value;\n  }\n\n  if (typeof definition.field !== 'undefined') {\n    return x => get(x, definition.field);\n  }\n\n  return () => undefined;\n}","import { ScaleType } from '../../types';\nimport createScaleFromScaleType from './createScaleFromScaleType';\nimport updateScale from './updateScale';\nimport Encodable from '../../options/Encodable';\nimport { isSchemeParams } from '../../typeGuards/SchemeParams';\nimport applyDomain from './applyDomain';\n\nfunction createScale(config) {\n  const {\n    range\n  } = config; // Handle categorical color scales\n  // An ordinal scale without specified range\n  // is assumed to be a color scale.\n\n  if (config.type === ScaleType.ORDINAL && typeof range === 'undefined') {\n    const scheme = 'scheme' in config ? config.scheme : undefined;\n    const resolve = Encodable.getCategoricalColorScaleResolver();\n    let colorScale;\n\n    if (typeof scheme === 'undefined') {\n      colorScale = resolve({});\n    } else if (isSchemeParams(scheme)) {\n      colorScale = resolve(scheme);\n    } else {\n      colorScale = resolve({\n        name: scheme\n      });\n    }\n\n    const castedColorScale = colorScale;\n    applyDomain(config, castedColorScale);\n    return castedColorScale;\n  }\n\n  const scale = createScaleFromScaleType(config.type);\n  return updateScale(scale, config);\n}\n\nexport default createScale;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isTypedFieldDef, isValueDef } from '../typeGuards/ChannelDef';\nimport { isNotArray } from '../typeGuards/Base';\nimport ChannelEncoder from './ChannelEncoder';\nexport default class Encoder {\n  constructor({\n    channelTypes,\n    encoding\n  }) {\n    _defineProperty(this, \"encoding\", void 0);\n\n    _defineProperty(this, \"channelTypes\", void 0);\n\n    _defineProperty(this, \"channels\", void 0);\n\n    _defineProperty(this, \"legends\", void 0);\n\n    this.channelTypes = channelTypes;\n    this.encoding = encoding;\n    const channelNames = this.getChannelNames(); // Create channel encoders\n\n    const channels = {};\n    channelNames.forEach(name => {\n      const channelEncoding = encoding[name];\n\n      if (Array.isArray(channelEncoding)) {\n        const definitions = channelEncoding;\n        channels[name] = definitions.map((definition, i) => new ChannelEncoder({\n          channelType: channelTypes[name],\n          definition,\n          name: name + \"[\" + i + \"]\"\n        }));\n      } else {\n        const definition = channelEncoding;\n        channels[name] = new ChannelEncoder({\n          channelType: channelTypes[name],\n          definition,\n          name: name\n        });\n      }\n    });\n    this.channels = channels; // Group the channels that use the same field together\n    // so they can share the same legend.\n\n    this.legends = {};\n    channelNames.map(name => this.channels[name]).forEach(c => {\n      if (isNotArray(c) && c.hasLegend() && isTypedFieldDef(c.definition)) {\n        const {\n          field\n        } = c.definition;\n        const channelEncoder = c;\n\n        if (this.legends[field]) {\n          this.legends[field].push(channelEncoder);\n        } else {\n          this.legends[field] = [channelEncoder];\n        }\n      }\n    });\n  }\n\n  getChannelNames() {\n    return Object.keys(this.channelTypes);\n  }\n\n  getChannelEncoders() {\n    return this.getChannelNames().flatMap(name => this.channels[name]);\n  }\n\n  getGroupBys() {\n    const fields = this.getChannelEncoders().filter(c => c.isGroupBy()).map(c => c.definition.field);\n    return Array.from(new Set(fields));\n  }\n\n  createLegendItemsFactory(field) {\n    const channelEncoders = this.getChannelEncoders().filter(e => isNotArray(e) && isValueDef(e.definition)).flat().concat(this.legends[field]);\n    return domain => domain.map(input => ({\n      input,\n      output: channelEncoders.reduce((prev, curr) => {\n        const map = prev;\n        map[curr.name] = curr.encodeValue(input);\n        return map;\n      }, {})\n    }));\n  }\n\n  getLegendInformation(data = []) {\n    return Object.keys(this.legends) // for each field that was encoded\n    .map(field => {\n      // get all the channels that use this field\n      const channelEncoders = this.legends[field];\n      const firstEncoder = channelEncoders[0];\n      const definition = firstEncoder.definition;\n      const createLegendItems = this.createLegendItemsFactory(field);\n\n      if (definition.type === 'nominal') {\n        return {\n          channelEncoders,\n          createLegendItems,\n          field,\n          items: createLegendItems(firstEncoder.getDomainFromDataset(data)),\n          type: definition.type\n        };\n      }\n\n      return {\n        channelEncoders,\n        createLegendItems,\n        field,\n        type: definition.type\n      };\n    });\n  }\n\n  setDomainFromDataset(data) {\n    this.getChannelEncoders().forEach(channelEncoder => {\n      channelEncoder.setDomainFromDataset(data);\n    });\n    return this;\n  }\n\n  hasLegend() {\n    return Object.keys(this.legends).length > 0;\n  }\n\n}","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport cloudLayout, { Word } from 'd3-cloud';\nimport {\n  PlainObject,\n  createEncoderFactory,\n  DeriveEncoding,\n  Encoder,\n} from 'encodable';\nimport {\n  SupersetThemeProps,\n  withTheme,\n  seed,\n  CategoricalColorScale,\n} from '@superset-ui/core';\nimport { isEqual } from 'lodash';\n\nconst seedRandom = seed('superset-ui');\nexport const ROTATION = {\n  flat: () => 0,\n  // this calculates a random rotation between -90 and 90 degrees.\n  random: () => Math.floor(seedRandom() * 6 - 3) * 30,\n  square: () => Math.floor(seedRandom() * 2) * 90,\n};\n\nexport type RotationType = keyof typeof ROTATION;\n\nexport type WordCloudEncoding = DeriveEncoding<WordCloudEncodingConfig>;\n\ntype WordCloudEncodingConfig = {\n  color: ['Color', string];\n  fontFamily: ['Category', string];\n  fontSize: ['Numeric', number];\n  fontWeight: ['Category', string | number];\n  text: ['Text', string];\n};\n\n/**\n * These props should be stored when saving the chart.\n */\nexport interface WordCloudVisualProps {\n  encoding?: Partial<WordCloudEncoding>;\n  rotation?: RotationType;\n}\n\nexport interface WordCloudProps extends WordCloudVisualProps {\n  data: PlainObject[];\n  height: number;\n  width: number;\n  sliceId: number;\n}\n\nexport interface WordCloudState {\n  words: Word[];\n  scaleFactor: number;\n}\n\nconst defaultProps: Required<WordCloudVisualProps> = {\n  encoding: {},\n  rotation: 'flat',\n};\n\ntype FullWordCloudProps = WordCloudProps &\n  typeof defaultProps &\n  SupersetThemeProps;\n\nconst SCALE_FACTOR_STEP = 0.5;\nconst MAX_SCALE_FACTOR = 3;\n// Percentage of top results that will always be displayed.\n// Needed to avoid clutter when shrinking a chart with many records.\nconst TOP_RESULTS_PERCENTAGE = 0.1;\n\nclass WordCloud extends React.PureComponent<\n  FullWordCloudProps,\n  WordCloudState\n> {\n  static defaultProps = defaultProps;\n\n  // Cannot name it isMounted because of conflict\n  // with React's component function name\n  isComponentMounted = false;\n\n  wordCloudEncoderFactory = createEncoderFactory<WordCloudEncodingConfig>({\n    channelTypes: {\n      color: 'Color',\n      fontFamily: 'Category',\n      fontSize: 'Numeric',\n      fontWeight: 'Category',\n      text: 'Text',\n    },\n    defaultEncoding: {\n      color: { value: this.props.theme.colors.grayscale.dark2 },\n      fontFamily: { value: this.props.theme.typography.families.sansSerif },\n      fontSize: { value: 20 },\n      fontWeight: { value: 'bold' },\n      text: { value: '' },\n    },\n  });\n\n  createEncoder = this.wordCloudEncoderFactory.createSelector();\n\n  constructor(props: FullWordCloudProps) {\n    super(props);\n    this.state = {\n      words: [],\n      scaleFactor: 1,\n    };\n    this.setWords = this.setWords.bind(this);\n  }\n\n  componentDidMount() {\n    this.isComponentMounted = true;\n    this.update();\n  }\n\n  componentDidUpdate(prevProps: WordCloudProps) {\n    const { data, encoding, width, height, rotation } = this.props;\n\n    if (\n      !isEqual(prevProps.data, data) ||\n      !isEqual(prevProps.encoding, encoding) ||\n      prevProps.width !== width ||\n      prevProps.height !== height ||\n      prevProps.rotation !== rotation\n    ) {\n      this.update();\n    }\n  }\n\n  componentWillUnmount() {\n    this.isComponentMounted = false;\n  }\n\n  setWords(words: Word[]) {\n    if (this.isComponentMounted) {\n      this.setState({ words });\n    }\n  }\n\n  update() {\n    const { data, encoding } = this.props;\n\n    const encoder = this.createEncoder(encoding);\n    encoder.setDomainFromDataset(data);\n\n    const sortedData = [...data].sort(\n      (a, b) =>\n        encoder.channels.fontSize.encodeDatum(b, 0) -\n        encoder.channels.fontSize.encodeDatum(a, 0),\n    );\n    const topResultsCount = Math.max(\n      sortedData.length * TOP_RESULTS_PERCENTAGE,\n      10,\n    );\n    const topResults = sortedData.slice(0, topResultsCount);\n\n    // Ensure top results are always included in the final word cloud by scaling chart down if needed\n    this.generateCloud(encoder, 1, (words: Word[]) =>\n      topResults.every((d: PlainObject) =>\n        words.find(\n          ({ text }) => encoder.channels.text.getValueFromDatum(d) === text,\n        ),\n      ),\n    );\n  }\n\n  generateCloud(\n    encoder: Encoder<WordCloudEncodingConfig>,\n    scaleFactor: number,\n    isValid: (word: Word[]) => boolean,\n  ) {\n    const { data, width, height, rotation } = this.props;\n\n    cloudLayout()\n      .size([width * scaleFactor, height * scaleFactor])\n      // clone the data because cloudLayout mutates input\n      .words(data.map(d => ({ ...d })))\n      .padding(5)\n      .rotate(ROTATION[rotation] || ROTATION.flat)\n      .text(d => encoder.channels.text.getValueFromDatum(d))\n      .font(d =>\n        encoder.channels.fontFamily.encodeDatum(\n          d,\n          this.props.theme.typography.families.sansSerif,\n        ),\n      )\n      .fontWeight(d => encoder.channels.fontWeight.encodeDatum(d, 'normal'))\n      .fontSize(d => encoder.channels.fontSize.encodeDatum(d, 0))\n      .on('end', (words: Word[]) => {\n        if (isValid(words) || scaleFactor > MAX_SCALE_FACTOR) {\n          if (this.isComponentMounted) {\n            this.setState({ words, scaleFactor });\n          }\n        } else {\n          this.generateCloud(encoder, scaleFactor + SCALE_FACTOR_STEP, isValid);\n        }\n      })\n      .start();\n  }\n\n  render() {\n    const { scaleFactor } = this.state;\n    const { width, height, encoding, sliceId } = this.props;\n    const { words } = this.state;\n\n    const encoder = this.createEncoder(encoding);\n    encoder.channels.color.setDomainFromDataset(words);\n\n    const { getValueFromDatum } = encoder.channels.color;\n    const colorFn = encoder.channels.color.scale as CategoricalColorScale;\n\n    const viewBoxWidth = width * scaleFactor;\n    const viewBoxHeight = height * scaleFactor;\n\n    return (\n      <svg\n        width={width}\n        height={height}\n        viewBox={`-${viewBoxWidth / 2} -${\n          viewBoxHeight / 2\n        } ${viewBoxWidth} ${viewBoxHeight}`}\n      >\n        <g>\n          {words.map(w => (\n            <text\n              key={w.text}\n              fontSize={`${w.size}px`}\n              fontWeight={w.weight}\n              fontFamily={w.font}\n              fill={colorFn(getValueFromDatum(w) as string, sliceId)}\n              textAnchor=\"middle\"\n              transform={`translate(${w.x}, ${w.y}) rotate(${w.rotate})`}\n            >\n              {w.text}\n            </text>\n          ))}\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default withTheme(WordCloud);\n","import { createSelector } from 'reselect';\nimport Encoder from './Encoder';\nimport mergeEncoding from '../utils/mergeEncoding';\nexport default function createEncoderFactory(params) {\n  const {\n    channelTypes\n  } = params;\n  const completeEncoding = 'defaultEncoding' in params ? encoding => mergeEncoding(params.defaultEncoding, encoding) : params.completeEncoding;\n\n  const create = (encoding = {}) => new Encoder({\n    channelTypes,\n    encoding: completeEncoding(encoding)\n  });\n\n  return {\n    channelTypes,\n    create,\n    createSelector: () => createSelector(encoding => encoding, create),\n    DEFAULT_ENCODING: completeEncoding({})\n  };\n}","export default function mergeEncoding(defaultEncoding, encoding) {\n  return { ...defaultEncoding,\n    ...encoding\n  };\n}"],"names":["dispatch","cloudRadians","Math","PI","ch","cloudText","d","text","cloudFont","cloudFontNormal","cloudFontSize","sqrt","value","cloudRotate","random","cloudPadding","cloudSprite","contextAndRatio","data","di","sprite","c","context","ratio","clearRect","x","y","maxh","n","length","save","font","style","weight","size","w","measureText","width","h","rotate","sr","sin","cr","cos","wcr","wsr","hcr","hsr","max","abs","translate","fillText","padding","lineWidth","strokeText","restore","height","xoff","yoff","x1","y1","x0","y0","hasText","pixels","getImageData","w32","i","seen","seenRow","j","k","m","slice","cloudCollide","tag","board","sw","last","lx","sx","msx","cloudBounds","bounds","b0","b1","archimedeanSpiral","e","t","cloudCanvas","document","createElement","functor","module","exports","fontSize","fontStyle","fontWeight","spiral","words","timeInterval","Infinity","event","timer","cloud","canvas","place","dxdy","dx","dy","a","b","startX","startY","maxDelta","s","dt","min","_","arguments","start","getContext","fillStyle","strokeStyle","textAlign","zeroArray","tags","map","call","this","sort","clearInterval","setInterval","step","Date","now","push","stop","spirals","on","apply","archimedean","rectangular","sign","noop","test","Error","Dispatch","get","type","name","set","callback","concat","prototype","constructor","typename","types","T","trim","split","indexOf","hasOwnProperty","copy","that","args","Array","seed","_seedrandom","seedRandom","isValueDef","channelDef","isFieldDef","field","isTypedFieldDef","isNotArray","maybeArray","isArray","isDefined","values","valueof","undefined","index","ScaleType","LINEAR","LOG","POW","SQRT","SYMLOG","TIME","UTC","QUANTILE","QUANTIZE","THRESHOLD","BIN_ORDINAL","ORDINAL","POINT","BAND","isX","channelType","isY","isXOrY","Object","keys","invalidTimeUnit","unitName","String","SUNDAY_YEAR","MONTHS","SHORT_MONTHS","DAYS","SHORT_DAYS","isNumber","isNumeric","isNaN","parseFloat","parseDateTime","dateTime","parts","normalize","day","year","month","Number","lowerM","toLowerCase","monthIndex","shortM","shortMonthIndex","normalizeMonth","quarter","q","console","warn","normalizeQuarter","date","lowerD","dayIndex","shortD","shortDayIndex","normalizeDay","forEach","timeUnit","unit","dateTimeParts","utc","dateTimeToTimestamp","isDateTime","o","hours","minutes","seconds","milliseconds","fallbackFormatter","v","createFormatter","formatType","format","formatInLocalTime","formatter","Encodable","resolveTimeFormat","resolveNumberFormat","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","ChannelEncoderAxis","channelEncoder","config","definition","axis","formatValue","getTitle","title","hasTitle","getTickLabels","tickCount","scale","ticks","domain","isEnabled","isDisabled","STRATEGY_FLAT","strategy","STRATEGY_ROTATE","labelAngle","expandLabelOverlapStrategy","labelOverlap","output","continuousToContinuousScaleTypes","continuousToContinuousScaleTypesSet","Set","continuousToDiscreteScaleTypes","continuousDomainScaleTypes","discreteDomainScaleTypes","continuousScaleTypes","continuousScaleTypesSet","discreteScaleTypes","discreteScaleTypesSet","discretizingScaleTypes","discretizingScaleTypesSet","timeScaleTypes","allScaleTypes","allScaleTypesSet","inferScaleType","fieldType","bin","pointOrBand","pointOrBandSet","exceptPointOrBand","filter","has","exceptPointOrBandSet","continuousOrPointOrBandSet","zeroSet","delete","supportedScaleTypes","align","base","clamp","constant","exponent","interpolate","nice","paddingInner","paddingOuter","range","reverse","round","scheme","unknown","zero","isContinuousScaleConfig","temporalFieldNames","inferFieldType","completeChannelDef","_channelDef$title","legend","scaleType","filledScale","isScaleConfigWithZero","completeScaleConfig","resolvedFormatType","completeFormatConfig","copy2","isChannelDefWithAxisSupport","isXChannel","labelFlush","labelPadding","orient","titlePadding","completeAxisConfig","completeLegendConfig","e10","e5","e2","count","tickIncrement","isFinite","r0","r1","power","floor","log","LN10","error","pow","tickStep","step0","step1","NaN","f","delta","compare","left","lo","hi","mid","ascending","ascendingComparator","center","right","ascendingBisect","bisector","bisectRight","number","basis","t1","v0","v1","v2","v3","t2","t3","linear","hue","nogamma","rgbGamma","color","exponential","gamma","rgb","end","r","g","opacity","rgbSpline","spline","colors","genericArray","nb","na","setTime","reA","reB","RegExp","source","am","bm","bs","bi","lastIndex","exec","one","join","string","ArrayBuffer","isView","DataView","valueOf","toString","object","identity","bimap","d0","d1","polymap","bisect","target","transformer","transform","untransform","piecewise","input","rescale","invert","from","rangeRound","u","continuous","initRange","linearish","tickFormat","specifier","precision","prestep","i0","i1","maxIter","ceil","interval","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","reflect","logs","pows","E","log10","log2","logp","powp","p","z","loggish","transformPow","transformSqrt","transformSquare","powish","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationYear","t0","newInterval","floori","offseti","offset","previous","every","millisecond","second","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","setMonth","getMonth","getFullYear","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","ticker","week","tickIntervals","tickInterval","utcTicks","utcTickInterval","timeTicks","timeTickInterval","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","quantileSorted","value0","thresholds","invertExtent","quantiles","quantize","threshold","implicit","Symbol","ordinal","Map","band","bandwidth","ordinalRange","pointish","point","transformSymlog","log1p","transformSymexp","expm1","symlog","symlogish","createScaleFromScaleType","localTimeIntervals","utcIntervals","applyNice","timeScale","parsedInterval","isContinuousScale","applyZero","isDescending","domainWithZero","hcl","l","hclLong","hsl","hslLong","cubehelix","cubehelixGamma","interpolatorMap","lab","parseContinuousDomain","parseDiscreteDomain","removeUndefinedAndNull","array","parseDateTimeIn","applyDomain","dataDomain","order","createOrderFunction","isDiscretizingScale","isDiscretizingScaleConfig","boundMin","boundMax","dataMin","dataMax","combineContinuousDomains","isDiscreteScale","isDiscreteScaleConfig","fixedDomain","fixedCategories","inputCategories","fixedSet","combineCategories","isSchemeParams","applyRange","extent","schemeObject","resolveColorScheme","wrappedScheme","wrapColorScheme","getColors","updateScale","applyAlign","applyBase","applyClamp","applyExponent","interpolator","createColorInterpolator","applyInterpolate","applyPadding","roundableScale","applyRound","isCompleteValueDef","def","ChannelEncoder","originalDefinition","otherwise","encodeFunc","datum","encodeValue","getValueFromDatum","getValue","resolve","getCategoricalColorScaleResolver","colorScale","castedColorScale","getDomain","setDomain","hasCategoricalColorScale","setDomainFromDataset","getDomainFromDataset","isGroupBy","hasLegend","hasValueDefinition","hasFieldDefinition","Encoder","channelTypes","encoding","channelNames","getChannelNames","channels","channelEncoding","definitions","legends","getChannelEncoders","flatMap","getGroupBys","fields","createLegendItemsFactory","channelEncoders","flat","reduce","prev","curr","getLegendInformation","firstEncoder","createLegendItems","items","ROTATION","square","WordCloud","React","props","super","isComponentMounted","wordCloudEncoderFactory","params","completeEncoding","defaultEncoding","mergeEncoding","create","createSelector","DEFAULT_ENCODING","createEncoderFactory","fontFamily","theme","grayscale","dark2","typography","families","sansSerif","createEncoder","state","scaleFactor","setWords","bind","componentDidMount","update","componentDidUpdate","prevProps","rotation","_isEqual","componentWillUnmount","setState","encoder","sortedData","encodeDatum","topResultsCount","topResults","generateCloud","find","_ref","isValid","cloudLayout","render","sliceId","colorFn","viewBoxWidth","viewBoxHeight","___EmotionJSX","viewBox","fill","textAnchor","defaultProps","withTheme"],"sourceRoot":""}