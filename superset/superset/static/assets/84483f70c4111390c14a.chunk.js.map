{"version":3,"file":"84483f70c4111390c14a.chunk.js","mappings":"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","sources":["webpack://superset/./src/components/AuditInfo/index.tsx","webpack://superset/./src/components/ImportModal/index.tsx","webpack://superset/./src/features/datasets/DuplicateDatasetModal.tsx","webpack://superset/./src/pages/DatasetList/index.tsx","webpack://superset/./src/utils/getOwnerName.ts"],"sourcesContent":["import React from 'react';\n\nimport Owner from 'src/types/Owner';\nimport { Tooltip } from 'src/components/Tooltip';\nimport getOwnerName from 'src/utils/getOwnerName';\nimport { t } from '@superset-ui/core';\n\nexport type ModifiedInfoProps = {\n  user?: Owner;\n  date: string;\n};\n\nexport const ModifiedInfo = ({ user, date }: ModifiedInfoProps) => {\n  const dateSpan = (\n    <span className=\"no-wrap\" data-test=\"audit-info-date\">\n      {date}\n    </span>\n  );\n\n  if (user) {\n    const userName = getOwnerName(user);\n    const title = t('Modified by: %s', userName);\n    return (\n      <Tooltip title={title} placement=\"bottom\">\n        {dateSpan}\n      </Tooltip>\n    );\n  }\n  return dateSpan;\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { FunctionComponent, useEffect, useState } from 'react';\nimport { UploadChangeParam, UploadFile } from 'antd/lib/upload/interface';\nimport { styled, t } from '@superset-ui/core';\n\nimport Button from 'src/components/Button';\nimport Modal from 'src/components/Modal';\nimport { Upload } from 'src/components';\nimport { useImportResource } from 'src/views/CRUD/hooks';\nimport { ImportResourceName } from 'src/views/CRUD/types';\nimport ErrorAlert from './ErrorAlert';\n\nconst HelperMessage = styled.div`\n  display: block;\n  color: ${({ theme }) => theme.colors.grayscale.base};\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n`;\n\nconst StyledInputContainer = styled.div`\n  padding-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  padding-top: ${({ theme }) => theme.gridUnit * 2}px;\n\n  & > div {\n    margin: ${({ theme }) => theme.gridUnit}px 0;\n  }\n\n  &.extra-container {\n    padding-top: 8px;\n  }\n\n  .confirm-overwrite {\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  }\n\n  .input-container {\n    display: flex;\n    align-items: center;\n\n    label {\n      display: flex;\n      margin-right: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n\n    i {\n      margin: 0 ${({ theme }) => theme.gridUnit}px;\n    }\n  }\n\n  input,\n  textarea {\n    flex: 1 1 auto;\n  }\n\n  textarea {\n    height: 160px;\n    resize: none;\n  }\n\n  input::placeholder,\n  textarea::placeholder {\n    color: ${({ theme }) => theme.colors.grayscale.light1};\n  }\n\n  textarea,\n  input[type='text'],\n  input[type='number'] {\n    padding: ${({ theme }) => theme.gridUnit * 1.5}px\n      ${({ theme }) => theme.gridUnit * 2}px;\n    border-style: none;\n    border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    border-radius: ${({ theme }) => theme.gridUnit}px;\n\n    &[name='name'] {\n      flex: 0 1 auto;\n      width: 40%;\n    }\n\n    &[name='sqlalchemy_uri'] {\n      margin-right: ${({ theme }) => theme.gridUnit * 3}px;\n    }\n  }\n`;\n\nexport interface ImportModelsModalProps {\n  resourceName: ImportResourceName;\n  resourceLabel: string;\n  passwordsNeededMessage: string;\n  confirmOverwriteMessage: string;\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n  onModelImport: () => void;\n  show: boolean;\n  onHide: () => void;\n  passwordFields?: string[];\n  setPasswordFields?: (passwordFields: string[]) => void;\n  sshTunnelPasswordFields?: string[];\n  setSSHTunnelPasswordFields?: (sshTunnelPasswordFields: string[]) => void;\n  sshTunnelPrivateKeyFields?: string[];\n  setSSHTunnelPrivateKeyFields?: (sshTunnelPrivateKeyFields: string[]) => void;\n  sshTunnelPrivateKeyPasswordFields?: string[];\n  setSSHTunnelPrivateKeyPasswordFields?: (\n    sshTunnelPrivateKeyPasswordFields: string[],\n  ) => void;\n}\n\nconst ImportModelsModal: FunctionComponent<ImportModelsModalProps> = ({\n  resourceName,\n  resourceLabel,\n  passwordsNeededMessage,\n  confirmOverwriteMessage,\n  onModelImport,\n  show,\n  onHide,\n  passwordFields = [],\n  setPasswordFields = () => {},\n  sshTunnelPasswordFields = [],\n  setSSHTunnelPasswordFields = () => {},\n  sshTunnelPrivateKeyFields = [],\n  setSSHTunnelPrivateKeyFields = () => {},\n  sshTunnelPrivateKeyPasswordFields = [],\n  setSSHTunnelPrivateKeyPasswordFields = () => {},\n}) => {\n  const [isHidden, setIsHidden] = useState<boolean>(true);\n  const [passwords, setPasswords] = useState<Record<string, string>>({});\n  const [needsOverwriteConfirm, setNeedsOverwriteConfirm] =\n    useState<boolean>(false);\n  const [confirmedOverwrite, setConfirmedOverwrite] = useState<boolean>(false);\n  const [fileList, setFileList] = useState<UploadFile[]>([]);\n  const [importingModel, setImportingModel] = useState<boolean>(false);\n  const [errorMessage, setErrorMessage] = useState<string>();\n  const [sshTunnelPasswords, setSSHTunnelPasswords] = useState<\n    Record<string, string>\n  >({});\n  const [sshTunnelPrivateKeys, setSSHTunnelPrivateKeys] = useState<\n    Record<string, string>\n  >({});\n  const [sshTunnelPrivateKeyPasswords, setSSHTunnelPrivateKeyPasswords] =\n    useState<Record<string, string>>({});\n\n  const clearModal = () => {\n    setFileList([]);\n    setPasswordFields([]);\n    setPasswords({});\n    setNeedsOverwriteConfirm(false);\n    setConfirmedOverwrite(false);\n    setImportingModel(false);\n    setErrorMessage('');\n    setSSHTunnelPasswordFields([]);\n    setSSHTunnelPrivateKeyFields([]);\n    setSSHTunnelPrivateKeyPasswordFields([]);\n    setSSHTunnelPasswords({});\n    setSSHTunnelPrivateKeys({});\n    setSSHTunnelPrivateKeyPasswords({});\n  };\n\n  const handleErrorMsg = (msg: string) => {\n    setErrorMessage(msg);\n  };\n\n  const {\n    state: {\n      alreadyExists,\n      passwordsNeeded,\n      sshPasswordNeeded,\n      sshPrivateKeyNeeded,\n      sshPrivateKeyPasswordNeeded,\n    },\n    importResource,\n  } = useImportResource(resourceName, resourceLabel, handleErrorMsg);\n\n  useEffect(() => {\n    setPasswordFields(passwordsNeeded);\n    if (passwordsNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [passwordsNeeded, setPasswordFields]);\n\n  useEffect(() => {\n    setNeedsOverwriteConfirm(alreadyExists.length > 0);\n    if (alreadyExists.length > 0) {\n      setImportingModel(false);\n    }\n  }, [alreadyExists, setNeedsOverwriteConfirm]);\n\n  useEffect(() => {\n    setSSHTunnelPasswordFields(sshPasswordNeeded);\n    if (sshPasswordNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [sshPasswordNeeded, setSSHTunnelPasswordFields]);\n\n  useEffect(() => {\n    setSSHTunnelPrivateKeyFields(sshPrivateKeyNeeded);\n    if (sshPrivateKeyNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [sshPrivateKeyNeeded, setSSHTunnelPrivateKeyFields]);\n\n  useEffect(() => {\n    setSSHTunnelPrivateKeyPasswordFields(sshPrivateKeyPasswordNeeded);\n    if (sshPrivateKeyPasswordNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [sshPrivateKeyPasswordNeeded, setSSHTunnelPrivateKeyPasswordFields]);\n\n  // Functions\n  const hide = () => {\n    setIsHidden(true);\n    onHide();\n    clearModal();\n  };\n\n  const onUpload = () => {\n    if (!(fileList[0]?.originFileObj instanceof File)) {\n      return;\n    }\n\n    setImportingModel(true);\n    importResource(\n      fileList[0].originFileObj,\n      passwords,\n      sshTunnelPasswords,\n      sshTunnelPrivateKeys,\n      sshTunnelPrivateKeyPasswords,\n      confirmedOverwrite,\n    ).then(result => {\n      if (result) {\n        clearModal();\n        onModelImport();\n      }\n    });\n  };\n\n  const changeFile = (info: UploadChangeParam) => {\n    setFileList([\n      {\n        ...info.file,\n        status: 'done',\n      },\n    ]);\n  };\n\n  const removeFile = (removedFile: UploadFile) => {\n    setFileList(fileList.filter(file => file.uid !== removedFile.uid));\n    return false;\n  };\n\n  const confirmOverwrite = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const targetValue = (event.currentTarget?.value as string) ?? '';\n    setConfirmedOverwrite(targetValue.toUpperCase() === t('OVERWRITE'));\n  };\n\n  const renderPasswordFields = () => {\n    if (\n      passwordFields.length === 0 &&\n      sshTunnelPasswordFields.length === 0 &&\n      sshTunnelPrivateKeyFields.length === 0 &&\n      sshTunnelPrivateKeyPasswordFields.length === 0\n    ) {\n      return null;\n    }\n\n    const files = [\n      ...new Set([\n        ...passwordFields,\n        ...sshTunnelPasswordFields,\n        ...sshTunnelPrivateKeyFields,\n        ...sshTunnelPrivateKeyPasswordFields,\n      ]),\n    ];\n\n    return (\n      <>\n        <h5>{t('Database passwords')}</h5>\n        <HelperMessage>{passwordsNeededMessage}</HelperMessage>\n        {files.map(fileName => (\n          <>\n            {passwordFields?.indexOf(fileName) >= 0 && (\n              <StyledInputContainer key={`password-for-${fileName}`}>\n                <div className=\"control-label\">\n                  {t('%s PASSWORD', fileName.slice(10))}\n                  <span className=\"required\">*</span>\n                </div>\n                <input\n                  name={`password-${fileName}`}\n                  autoComplete={`password-${fileName}`}\n                  type=\"password\"\n                  value={passwords[fileName]}\n                  onChange={event =>\n                    setPasswords({\n                      ...passwords,\n                      [fileName]: event.target.value,\n                    })\n                  }\n                />\n              </StyledInputContainer>\n            )}\n            {sshTunnelPasswordFields?.indexOf(fileName) >= 0 && (\n              <StyledInputContainer key={`ssh_tunnel_password-for-${fileName}`}>\n                <div className=\"control-label\">\n                  {t('%s SSH TUNNEL PASSWORD', fileName.slice(10))}\n                  <span className=\"required\">*</span>\n                </div>\n                <input\n                  name={`ssh_tunnel_password-${fileName}`}\n                  autoComplete={`ssh_tunnel_password-${fileName}`}\n                  type=\"password\"\n                  value={sshTunnelPasswords[fileName]}\n                  onChange={event =>\n                    setSSHTunnelPasswords({\n                      ...sshTunnelPasswords,\n                      [fileName]: event.target.value,\n                    })\n                  }\n                  data-test=\"ssh_tunnel_password\"\n                />\n              </StyledInputContainer>\n            )}\n            {sshTunnelPrivateKeyFields?.indexOf(fileName) >= 0 && (\n              <StyledInputContainer\n                key={`ssh_tunnel_private_key-for-${fileName}`}\n              >\n                <div className=\"control-label\">\n                  {t('%s SSH TUNNEL PRIVATE KEY', fileName.slice(10))}\n                  <span className=\"required\">*</span>\n                </div>\n                <textarea\n                  name={`ssh_tunnel_private_key-${fileName}`}\n                  autoComplete={`ssh_tunnel_private_key-${fileName}`}\n                  value={sshTunnelPrivateKeys[fileName]}\n                  onChange={event =>\n                    setSSHTunnelPrivateKeys({\n                      ...sshTunnelPrivateKeys,\n                      [fileName]: event.target.value,\n                    })\n                  }\n                  data-test=\"ssh_tunnel_private_key\"\n                />\n              </StyledInputContainer>\n            )}\n            {sshTunnelPrivateKeyPasswordFields?.indexOf(fileName) >= 0 && (\n              <StyledInputContainer\n                key={`ssh_tunnel_private_key_password-for-${fileName}`}\n              >\n                <div className=\"control-label\">\n                  {t('%s SSH TUNNEL PRIVATE KEY PASSWORD', fileName.slice(10))}\n                  <span className=\"required\">*</span>\n                </div>\n                <input\n                  name={`ssh_tunnel_private_key_password-${fileName}`}\n                  autoComplete={`ssh_tunnel_private_key_password-${fileName}`}\n                  type=\"password\"\n                  value={sshTunnelPrivateKeyPasswords[fileName]}\n                  onChange={event =>\n                    setSSHTunnelPrivateKeyPasswords({\n                      ...sshTunnelPrivateKeyPasswords,\n                      [fileName]: event.target.value,\n                    })\n                  }\n                  data-test=\"ssh_tunnel_private_key_password\"\n                />\n              </StyledInputContainer>\n            )}\n          </>\n        ))}\n      </>\n    );\n  };\n\n  const renderOverwriteConfirmation = () => {\n    if (!needsOverwriteConfirm) {\n      return null;\n    }\n\n    return (\n      <>\n        <StyledInputContainer>\n          <div className=\"confirm-overwrite\">{confirmOverwriteMessage}</div>\n          <div className=\"control-label\">\n            {t('Type \"%s\" to confirm', t('OVERWRITE'))}\n          </div>\n          <input\n            data-test=\"overwrite-modal-input\"\n            id=\"overwrite\"\n            type=\"text\"\n            onChange={confirmOverwrite}\n          />\n        </StyledInputContainer>\n      </>\n    );\n  };\n\n  // Show/hide\n  if (isHidden && show) {\n    setIsHidden(false);\n  }\n\n  return (\n    <Modal\n      name=\"model\"\n      className=\"import-model-modal\"\n      disablePrimaryButton={\n        fileList.length === 0 ||\n        (needsOverwriteConfirm && !confirmedOverwrite) ||\n        importingModel\n      }\n      onHandledPrimaryAction={onUpload}\n      onHide={hide}\n      primaryButtonName={needsOverwriteConfirm ? t('Overwrite') : t('Import')}\n      primaryButtonType={needsOverwriteConfirm ? 'danger' : 'primary'}\n      width=\"750px\"\n      show={show}\n      title={<h4>{t('Import %s', resourceLabel)}</h4>}\n    >\n      <StyledInputContainer>\n        <Upload\n          name=\"modelFile\"\n          id=\"modelFile\"\n          data-test=\"model-file-input\"\n          accept=\".yaml,.json,.yml,.zip\"\n          fileList={fileList}\n          onChange={changeFile}\n          onRemove={removeFile}\n          // upload is handled by hook\n          customRequest={() => {}}\n          disabled={importingModel}\n        >\n          <Button loading={importingModel}>{t('Select file')}</Button>\n        </Upload>\n      </StyledInputContainer>\n      {errorMessage && (\n        <ErrorAlert\n          errorMessage={errorMessage}\n          showDbInstallInstructions={\n            passwordFields.length > 0 ||\n            sshTunnelPasswordFields.length > 0 ||\n            sshTunnelPrivateKeyFields.length > 0 ||\n            sshTunnelPrivateKeyPasswordFields.length > 0\n          }\n        />\n      )}\n      {renderPasswordFields()}\n      {renderOverwriteConfirmation()}\n    </Modal>\n  );\n};\n\nexport default ImportModelsModal;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t } from '@superset-ui/core';\nimport React, { FunctionComponent, useEffect, useState } from 'react';\nimport { FormLabel } from 'src/components/Form';\nimport { Input } from 'src/components/Input';\nimport Modal from 'src/components/Modal';\nimport Dataset from 'src/types/Dataset';\n\ninterface DuplicateDatasetModalProps {\n  dataset: Dataset | null;\n  onHide: () => void;\n  onDuplicate: (newDatasetName: string) => void;\n}\n\nconst DuplicateDatasetModal: FunctionComponent<DuplicateDatasetModalProps> = ({\n  dataset,\n  onHide,\n  onDuplicate,\n}) => {\n  const [show, setShow] = useState<boolean>(false);\n  const [disableSave, setDisableSave] = useState<boolean>(false);\n  const [newDuplicateDatasetName, setNewDuplicateDatasetName] =\n    useState<string>('');\n\n  const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const targetValue = event.target.value ?? '';\n    setNewDuplicateDatasetName(targetValue);\n    setDisableSave(targetValue === '');\n  };\n\n  const duplicateDataset = () => {\n    onDuplicate(newDuplicateDatasetName);\n  };\n\n  useEffect(() => {\n    setNewDuplicateDatasetName('');\n    setShow(dataset !== null);\n  }, [dataset]);\n\n  return (\n    <Modal\n      show={show}\n      onHide={onHide}\n      title={t('Duplicate dataset')}\n      disablePrimaryButton={disableSave}\n      onHandledPrimaryAction={duplicateDataset}\n      primaryButtonName={t('Duplicate')}\n    >\n      <FormLabel htmlFor=\"duplicate\">{t('New dataset name')}</FormLabel>\n      <Input\n        data-test=\"duplicate-modal-input\"\n        type=\"text\"\n        id=\"duplicate\"\n        autoComplete=\"off\"\n        value={newDuplicateDatasetName}\n        onChange={onChange}\n        onPressEnter={duplicateDataset}\n      />\n    </Modal>\n  );\n};\n\nexport default DuplicateDatasetModal;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  isFeatureEnabled,\n  FeatureFlag,\n  getExtensionsRegistry,\n  styled,\n  SupersetClient,\n  t,\n} from '@superset-ui/core';\nimport React, {\n  FunctionComponent,\n  useState,\n  useMemo,\n  useCallback,\n} from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport rison from 'rison';\nimport {\n  createFetchRelated,\n  createFetchDistinct,\n  createErrorHandler,\n} from 'src/views/CRUD/utils';\nimport { ColumnObject } from 'src/features/datasets/types';\nimport { useListViewResource } from 'src/views/CRUD/hooks';\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\nimport { DatasourceModal } from 'src/components/Datasource';\nimport DeleteModal from 'src/components/DeleteModal';\nimport handleResourceExport from 'src/utils/export';\nimport ListView, {\n  ListViewProps,\n  Filters,\n  FilterOperator,\n} from 'src/components/ListView';\nimport Loading from 'src/components/Loading';\nimport SubMenu, { SubMenuProps, ButtonProps } from 'src/features/home/SubMenu';\nimport Owner from 'src/types/Owner';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport { Tooltip } from 'src/components/Tooltip';\nimport Icons from 'src/components/Icons';\nimport FacePile from 'src/components/FacePile';\nimport CertifiedBadge from 'src/components/CertifiedBadge';\nimport InfoTooltip from 'src/components/InfoTooltip';\nimport ImportModelsModal from 'src/components/ImportModal/index';\nimport WarningIconWithTooltip from 'src/components/WarningIconWithTooltip';\nimport { isUserAdmin } from 'src/dashboard/util/permissionUtils';\nimport { GenericLink } from 'src/components/GenericLink/GenericLink';\n\nimport {\n  PAGE_SIZE,\n  SORT_BY,\n  PASSWORDS_NEEDED_MESSAGE,\n  CONFIRM_OVERWRITE_MESSAGE,\n} from 'src/features/datasets/constants';\nimport DuplicateDatasetModal from 'src/features/datasets/DuplicateDatasetModal';\nimport { useSelector } from 'react-redux';\nimport { ModifiedInfo } from 'src/components/AuditInfo';\nimport { QueryObjectColumns } from 'src/views/CRUD/types';\n\nconst extensionsRegistry = getExtensionsRegistry();\nconst DatasetDeleteRelatedExtension = extensionsRegistry.get(\n  'dataset.delete.related',\n);\n\nconst FlexRowContainer = styled.div`\n  align-items: center;\n  display: flex;\n\n  svg {\n    margin-right: ${({ theme }) => theme.gridUnit}px;\n  }\n`;\n\nconst Actions = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.base};\n\n  .disabled {\n    svg,\n    i {\n      &:hover {\n        path {\n          fill: ${({ theme }) => theme.colors.grayscale.light1};\n        }\n      }\n    }\n    color: ${({ theme }) => theme.colors.grayscale.light1};\n    .ant-menu-item:hover {\n      color: ${({ theme }) => theme.colors.grayscale.light1};\n      cursor: default;\n    }\n    &::after {\n      color: ${({ theme }) => theme.colors.grayscale.light1};\n    }\n  }\n`;\n\ntype Dataset = {\n  changed_by_name: string;\n  changed_by: string;\n  changed_on_delta_humanized: string;\n  database: {\n    id: string;\n    database_name: string;\n  };\n  kind: string;\n  explore_url: string;\n  id: number;\n  owners: Array<Owner>;\n  schema: string;\n  table_name: string;\n};\n\ninterface VirtualDataset extends Dataset {\n  extra: Record<string, any>;\n  sql: string;\n}\n\ninterface DatasetListProps {\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n  user: {\n    userId: string | number;\n    firstName: string;\n    lastName: string;\n  };\n}\n\nconst DatasetList: FunctionComponent<DatasetListProps> = ({\n  addDangerToast,\n  addSuccessToast,\n  user,\n}) => {\n  const history = useHistory();\n  const {\n    state: {\n      loading,\n      resourceCount: datasetCount,\n      resourceCollection: datasets,\n      bulkSelectEnabled,\n    },\n    hasPerm,\n    fetchData,\n    toggleBulkSelect,\n    refreshData,\n  } = useListViewResource<Dataset>('dataset', t('dataset'), addDangerToast);\n\n  const [datasetCurrentlyDeleting, setDatasetCurrentlyDeleting] = useState<\n    (Dataset & { chart_count: number; dashboard_count: number }) | null\n  >(null);\n\n  const [datasetCurrentlyEditing, setDatasetCurrentlyEditing] =\n    useState<Dataset | null>(null);\n\n  const [datasetCurrentlyDuplicating, setDatasetCurrentlyDuplicating] =\n    useState<VirtualDataset | null>(null);\n\n  const [importingDataset, showImportModal] = useState<boolean>(false);\n  const [passwordFields, setPasswordFields] = useState<string[]>([]);\n  const [preparingExport, setPreparingExport] = useState<boolean>(false);\n  const [sshTunnelPasswordFields, setSSHTunnelPasswordFields] = useState<\n    string[]\n  >([]);\n  const [sshTunnelPrivateKeyFields, setSSHTunnelPrivateKeyFields] = useState<\n    string[]\n  >([]);\n  const [\n    sshTunnelPrivateKeyPasswordFields,\n    setSSHTunnelPrivateKeyPasswordFields,\n  ] = useState<string[]>([]);\n\n  const PREVENT_UNSAFE_DEFAULT_URLS_ON_DATASET = useSelector<any, boolean>(\n    state =>\n      state.common?.conf?.PREVENT_UNSAFE_DEFAULT_URLS_ON_DATASET || false,\n  );\n\n  const openDatasetImportModal = () => {\n    showImportModal(true);\n  };\n\n  const closeDatasetImportModal = () => {\n    showImportModal(false);\n  };\n\n  const handleDatasetImport = () => {\n    showImportModal(false);\n    refreshData();\n    addSuccessToast(t('Dataset imported'));\n  };\n\n  const canEdit = hasPerm('can_write');\n  const canDelete = hasPerm('can_write');\n  const canCreate = hasPerm('can_write');\n  const canDuplicate = hasPerm('can_duplicate');\n  const canExport =\n    hasPerm('can_export') && isFeatureEnabled(FeatureFlag.VERSIONED_EXPORT);\n\n  const initialSort = SORT_BY;\n\n  const openDatasetEditModal = useCallback(\n    ({ id }: Dataset) => {\n      SupersetClient.get({\n        endpoint: `/api/v1/dataset/${id}`,\n      })\n        .then(({ json = {} }) => {\n          const addCertificationFields = json.result.columns.map(\n            (column: ColumnObject) => {\n              const {\n                certification: { details = '', certified_by = '' } = {},\n              } = JSON.parse(column.extra || '{}') || {};\n              return {\n                ...column,\n                certification_details: details || '',\n                certified_by: certified_by || '',\n                is_certified: details || certified_by,\n              };\n            },\n          );\n          // eslint-disable-next-line no-param-reassign\n          json.result.columns = [...addCertificationFields];\n          setDatasetCurrentlyEditing(json.result);\n        })\n        .catch(() => {\n          addDangerToast(\n            t('An error occurred while fetching dataset related data'),\n          );\n        });\n    },\n    [addDangerToast],\n  );\n\n  const openDatasetDeleteModal = (dataset: Dataset) =>\n    SupersetClient.get({\n      endpoint: `/api/v1/dataset/${dataset.id}/related_objects`,\n    })\n      .then(({ json = {} }) => {\n        setDatasetCurrentlyDeleting({\n          ...dataset,\n          chart_count: json.charts.count,\n          dashboard_count: json.dashboards.count,\n        });\n      })\n      .catch(\n        createErrorHandler(errMsg =>\n          t(\n            'An error occurred while fetching dataset related data: %s',\n            errMsg,\n          ),\n        ),\n      );\n\n  const openDatasetDuplicateModal = (dataset: VirtualDataset) => {\n    setDatasetCurrentlyDuplicating(dataset);\n  };\n\n  const handleBulkDatasetExport = (datasetsToExport: Dataset[]) => {\n    const ids = datasetsToExport.map(({ id }) => id);\n    handleResourceExport('dataset', ids, () => {\n      setPreparingExport(false);\n    });\n    setPreparingExport(true);\n  };\n\n  const columns = useMemo(\n    () => [\n      {\n        Cell: ({\n          row: {\n            original: { kind },\n          },\n        }: any) => {\n          if (kind === 'physical') {\n            return (\n              <Tooltip\n                id=\"physical-dataset-tooltip\"\n                title={t('Physical dataset')}\n              >\n                <Icons.DatasetPhysical />\n              </Tooltip>\n            );\n          }\n\n          return (\n            <Tooltip id=\"virtual-dataset-tooltip\" title={t('Virtual dataset')}>\n              <Icons.DatasetVirtual />\n            </Tooltip>\n          );\n        },\n        accessor: 'kind_icon',\n        disableSortBy: true,\n        size: 'xs',\n        id: 'id',\n      },\n      {\n        Cell: ({\n          row: {\n            original: {\n              extra,\n              table_name: datasetTitle,\n              description,\n              explore_url: exploreURL,\n            },\n          },\n        }: any) => {\n          let titleLink: JSX.Element;\n          if (PREVENT_UNSAFE_DEFAULT_URLS_ON_DATASET) {\n            titleLink = (\n              <Link data-test=\"internal-link\" to={exploreURL}>\n                {datasetTitle}\n              </Link>\n            );\n          } else {\n            titleLink = (\n              // exploreUrl can be a link to Explore or an external link\n              // in the first case use SPA routing, else use HTML anchor\n              <GenericLink to={exploreURL}>{datasetTitle}</GenericLink>\n            );\n          }\n          try {\n            const parsedExtra = JSON.parse(extra);\n            return (\n              <FlexRowContainer>\n                {parsedExtra?.certification && (\n                  <CertifiedBadge\n                    certifiedBy={parsedExtra.certification.certified_by}\n                    details={parsedExtra.certification.details}\n                    size=\"l\"\n                  />\n                )}\n                {parsedExtra?.warning_markdown && (\n                  <WarningIconWithTooltip\n                    warningMarkdown={parsedExtra.warning_markdown}\n                    size=\"l\"\n                  />\n                )}\n                {titleLink}\n                {description && <InfoTooltip tooltip={description} />}\n              </FlexRowContainer>\n            );\n          } catch {\n            return titleLink;\n          }\n        },\n        Header: t('Name'),\n        accessor: 'table_name',\n      },\n      {\n        Cell: ({\n          row: {\n            original: { kind },\n          },\n        }: any) => (kind === 'physical' ? t('Physical') : t('Virtual')),\n        Header: t('Type'),\n        accessor: 'kind',\n        disableSortBy: true,\n        size: 'md',\n      },\n      {\n        Header: t('Database'),\n        accessor: 'database.database_name',\n        size: 'lg',\n      },\n      {\n        Header: t('Schema'),\n        accessor: 'schema',\n        size: 'lg',\n      },\n      {\n        accessor: 'database',\n        disableSortBy: true,\n        hidden: true,\n      },\n      {\n        Cell: ({\n          row: {\n            original: { owners = [] },\n          },\n        }: any) => <FacePile users={owners} />,\n        Header: t('Owners'),\n        id: 'owners',\n        disableSortBy: true,\n        size: 'lg',\n      },\n      {\n        Cell: ({\n          row: {\n            original: {\n              changed_on_delta_humanized: changedOn,\n              changed_by: changedBy,\n            },\n          },\n        }: any) => <ModifiedInfo date={changedOn} user={changedBy} />,\n        Header: t('Last modified'),\n        accessor: 'changed_on_delta_humanized',\n        size: 'xl',\n      },\n      {\n        accessor: 'sql',\n        hidden: true,\n        disableSortBy: true,\n      },\n      {\n        Cell: ({ row: { original } }: any) => {\n          // Verify owner or isAdmin\n          const allowEdit =\n            original.owners.map((o: Owner) => o.id).includes(user.userId) ||\n            isUserAdmin(user);\n\n          const handleEdit = () => openDatasetEditModal(original);\n          const handleDelete = () => openDatasetDeleteModal(original);\n          const handleExport = () => handleBulkDatasetExport([original]);\n          const handleDuplicate = () => openDatasetDuplicateModal(original);\n          if (!canEdit && !canDelete && !canExport && !canDuplicate) {\n            return null;\n          }\n          return (\n            <Actions className=\"actions\">\n              {canDelete && (\n                <Tooltip\n                  id=\"delete-action-tooltip\"\n                  title={t('Delete')}\n                  placement=\"bottom\"\n                >\n                  <span\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"action-button\"\n                    onClick={handleDelete}\n                  >\n                    <Icons.Trash />\n                  </span>\n                </Tooltip>\n              )}\n              {canExport && (\n                <Tooltip\n                  id=\"export-action-tooltip\"\n                  title={t('Export')}\n                  placement=\"bottom\"\n                >\n                  <span\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"action-button\"\n                    onClick={handleExport}\n                  >\n                    <Icons.Share />\n                  </span>\n                </Tooltip>\n              )}\n              {canEdit && (\n                <Tooltip\n                  id=\"edit-action-tooltip\"\n                  title={\n                    allowEdit\n                      ? t('Edit')\n                      : t(\n                          'You must be a dataset owner in order to edit. Please reach out to a dataset owner to request modifications or edit access.',\n                        )\n                  }\n                  placement=\"bottomRight\"\n                >\n                  <span\n                    role=\"button\"\n                    tabIndex={0}\n                    className={allowEdit ? 'action-button' : 'disabled'}\n                    onClick={allowEdit ? handleEdit : undefined}\n                  >\n                    <Icons.EditAlt />\n                  </span>\n                </Tooltip>\n              )}\n              {canDuplicate && original.kind === 'virtual' && (\n                <Tooltip\n                  id=\"duplicate-action-tooltop\"\n                  title={t('Duplicate')}\n                  placement=\"bottom\"\n                >\n                  <span\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"action-button\"\n                    onClick={handleDuplicate}\n                  >\n                    <Icons.Copy />\n                  </span>\n                </Tooltip>\n              )}\n            </Actions>\n          );\n        },\n        Header: t('Actions'),\n        id: 'actions',\n        hidden: !canEdit && !canDelete && !canDuplicate,\n        disableSortBy: true,\n      },\n      {\n        accessor: QueryObjectColumns.changed_by,\n        hidden: true,\n      },\n    ],\n    [canEdit, canDelete, canExport, openDatasetEditModal, canDuplicate, user],\n  );\n\n  const filterTypes: Filters = useMemo(\n    () => [\n      {\n        Header: t('Name'),\n        key: 'search',\n        id: 'table_name',\n        input: 'search',\n        operator: FilterOperator.contains,\n      },\n      {\n        Header: t('Type'),\n        key: 'sql',\n        id: 'sql',\n        input: 'select',\n        operator: FilterOperator.datasetIsNullOrEmpty,\n        unfilteredLabel: 'All',\n        selects: [\n          { label: t('Virtual'), value: false },\n          { label: t('Physical'), value: true },\n        ],\n      },\n      {\n        Header: t('Database'),\n        key: 'database',\n        id: 'database',\n        input: 'select',\n        operator: FilterOperator.relationOneMany,\n        unfilteredLabel: 'All',\n        fetchSelects: createFetchRelated(\n          'dataset',\n          'database',\n          createErrorHandler(errMsg =>\n            t('An error occurred while fetching datasets: %s', errMsg),\n          ),\n        ),\n        paginate: true,\n      },\n      {\n        Header: t('Schema'),\n        key: 'schema',\n        id: 'schema',\n        input: 'select',\n        operator: FilterOperator.equals,\n        unfilteredLabel: 'All',\n        fetchSelects: createFetchDistinct(\n          'dataset',\n          'schema',\n          createErrorHandler(errMsg =>\n            t('An error occurred while fetching schema values: %s', errMsg),\n          ),\n        ),\n        paginate: true,\n      },\n      {\n        Header: t('Owner'),\n        key: 'owner',\n        id: 'owners',\n        input: 'select',\n        operator: FilterOperator.relationManyMany,\n        unfilteredLabel: 'All',\n        fetchSelects: createFetchRelated(\n          'dataset',\n          'owners',\n          createErrorHandler(errMsg =>\n            t(\n              'An error occurred while fetching dataset owner values: %s',\n              errMsg,\n            ),\n          ),\n          user,\n        ),\n        paginate: true,\n      },\n      {\n        Header: t('Certified'),\n        key: 'certified',\n        id: 'id',\n        urlDisplay: 'certified',\n        input: 'select',\n        operator: FilterOperator.datasetIsCertified,\n        unfilteredLabel: t('Any'),\n        selects: [\n          { label: t('Yes'), value: true },\n          { label: t('No'), value: false },\n        ],\n      },\n      {\n        Header: t('Modified by'),\n        key: 'changed_by',\n        id: 'changed_by',\n        input: 'select',\n        operator: FilterOperator.relationOneMany,\n        unfilteredLabel: t('All'),\n        fetchSelects: createFetchRelated(\n          'dataset',\n          'changed_by',\n          createErrorHandler(errMsg =>\n            t(\n              'An error occurred while fetching dataset datasource values: %s',\n              errMsg,\n            ),\n          ),\n          user,\n        ),\n        paginate: true,\n      },\n    ],\n    [user],\n  );\n\n  const menuData: SubMenuProps = {\n    activeChild: 'Datasets',\n    name: t('Datasets'),\n  };\n\n  const buttonArr: Array<ButtonProps> = [];\n\n  if (canDelete || canExport) {\n    buttonArr.push({\n      name: t('Bulk select'),\n      onClick: toggleBulkSelect,\n      buttonStyle: 'secondary',\n    });\n  }\n\n  if (canCreate) {\n    buttonArr.push({\n      name: (\n        <>\n          <i className=\"fa fa-plus\" /> {t('Dataset')}{' '}\n        </>\n      ),\n      onClick: () => {\n        history.push('/dataset/add/');\n      },\n      buttonStyle: 'primary',\n    });\n\n    if (isFeatureEnabled(FeatureFlag.VERSIONED_EXPORT)) {\n      buttonArr.push({\n        name: (\n          <Tooltip\n            id=\"import-tooltip\"\n            title={t('Import datasets')}\n            placement=\"bottomRight\"\n          >\n            <Icons.Import data-test=\"import-button\" />\n          </Tooltip>\n        ),\n        buttonStyle: 'link',\n        onClick: openDatasetImportModal,\n      });\n    }\n  }\n\n  menuData.buttons = buttonArr;\n\n  const closeDatasetDeleteModal = () => {\n    setDatasetCurrentlyDeleting(null);\n  };\n\n  const closeDatasetEditModal = () => {\n    setDatasetCurrentlyEditing(null);\n  };\n\n  const closeDatasetDuplicateModal = () => {\n    setDatasetCurrentlyDuplicating(null);\n  };\n\n  const handleDatasetDelete = ({ id, table_name: tableName }: Dataset) => {\n    SupersetClient.delete({\n      endpoint: `/api/v1/dataset/${id}`,\n    }).then(\n      () => {\n        refreshData();\n        setDatasetCurrentlyDeleting(null);\n        addSuccessToast(t('Deleted: %s', tableName));\n      },\n      createErrorHandler(errMsg =>\n        addDangerToast(\n          t('There was an issue deleting %s: %s', tableName, errMsg),\n        ),\n      ),\n    );\n  };\n\n  const handleBulkDatasetDelete = (datasetsToDelete: Dataset[]) => {\n    SupersetClient.delete({\n      endpoint: `/api/v1/dataset/?q=${rison.encode(\n        datasetsToDelete.map(({ id }) => id),\n      )}`,\n    }).then(\n      ({ json = {} }) => {\n        refreshData();\n        addSuccessToast(json.message);\n      },\n      createErrorHandler(errMsg =>\n        addDangerToast(\n          t('There was an issue deleting the selected datasets: %s', errMsg),\n        ),\n      ),\n    );\n  };\n\n  const handleDatasetDuplicate = (newDatasetName: string) => {\n    if (datasetCurrentlyDuplicating === null) {\n      addDangerToast(t('There was an issue duplicating the dataset.'));\n    }\n\n    SupersetClient.post({\n      endpoint: `/api/v1/dataset/duplicate`,\n      jsonPayload: {\n        base_model_id: datasetCurrentlyDuplicating?.id,\n        table_name: newDatasetName,\n      },\n    }).then(\n      () => {\n        setDatasetCurrentlyDuplicating(null);\n        refreshData();\n      },\n      createErrorHandler(errMsg =>\n        addDangerToast(\n          t('There was an issue duplicating the selected datasets: %s', errMsg),\n        ),\n      ),\n    );\n  };\n\n  return (\n    <>\n      <SubMenu {...menuData} />\n      {datasetCurrentlyDeleting && (\n        <DeleteModal\n          description={\n            <>\n              <p>\n                {t(\n                  'The dataset %s is linked to %s charts that appear on %s dashboards. Are you sure you want to continue? Deleting the dataset will break those objects.',\n                  datasetCurrentlyDeleting.table_name,\n                  datasetCurrentlyDeleting.chart_count,\n                  datasetCurrentlyDeleting.dashboard_count,\n                )}\n              </p>\n              {DatasetDeleteRelatedExtension && (\n                <DatasetDeleteRelatedExtension\n                  dataset={datasetCurrentlyDeleting}\n                />\n              )}\n            </>\n          }\n          onConfirm={() => {\n            if (datasetCurrentlyDeleting) {\n              handleDatasetDelete(datasetCurrentlyDeleting);\n            }\n          }}\n          onHide={closeDatasetDeleteModal}\n          open\n          title={t('Delete Dataset?')}\n        />\n      )}\n      {datasetCurrentlyEditing && (\n        <DatasourceModal\n          datasource={datasetCurrentlyEditing}\n          onDatasourceSave={refreshData}\n          onHide={closeDatasetEditModal}\n          show\n        />\n      )}\n      <DuplicateDatasetModal\n        dataset={datasetCurrentlyDuplicating}\n        onHide={closeDatasetDuplicateModal}\n        onDuplicate={handleDatasetDuplicate}\n      />\n      <ConfirmStatusChange\n        title={t('Please confirm')}\n        description={t(\n          'Are you sure you want to delete the selected datasets?',\n        )}\n        onConfirm={handleBulkDatasetDelete}\n      >\n        {confirmDelete => {\n          const bulkActions: ListViewProps['bulkActions'] = [];\n          if (canDelete) {\n            bulkActions.push({\n              key: 'delete',\n              name: t('Delete'),\n              onSelect: confirmDelete,\n              type: 'danger',\n            });\n          }\n          if (canExport) {\n            bulkActions.push({\n              key: 'export',\n              name: t('Export'),\n              type: 'primary',\n              onSelect: handleBulkDatasetExport,\n            });\n          }\n          return (\n            <ListView<Dataset>\n              className=\"dataset-list-view\"\n              columns={columns}\n              data={datasets}\n              count={datasetCount}\n              pageSize={PAGE_SIZE}\n              fetchData={fetchData}\n              filters={filterTypes}\n              loading={loading}\n              initialSort={initialSort}\n              bulkActions={bulkActions}\n              bulkSelectEnabled={bulkSelectEnabled}\n              disableBulkSelect={toggleBulkSelect}\n              addDangerToast={addDangerToast}\n              addSuccessToast={addSuccessToast}\n              refreshData={refreshData}\n              renderBulkSelectCopy={selected => {\n                const { virtualCount, physicalCount } = selected.reduce(\n                  (acc, e) => {\n                    if (e.original.kind === 'physical') acc.physicalCount += 1;\n                    else if (e.original.kind === 'virtual') {\n                      acc.virtualCount += 1;\n                    }\n                    return acc;\n                  },\n                  { virtualCount: 0, physicalCount: 0 },\n                );\n\n                if (!selected.length) {\n                  return t('0 Selected');\n                }\n                if (virtualCount && !physicalCount) {\n                  return t(\n                    '%s Selected (Virtual)',\n                    selected.length,\n                    virtualCount,\n                  );\n                }\n                if (physicalCount && !virtualCount) {\n                  return t(\n                    '%s Selected (Physical)',\n                    selected.length,\n                    physicalCount,\n                  );\n                }\n\n                return t(\n                  '%s Selected (%s Physical, %s Virtual)',\n                  selected.length,\n                  physicalCount,\n                  virtualCount,\n                );\n              }}\n            />\n          );\n        }}\n      </ConfirmStatusChange>\n\n      <ImportModelsModal\n        resourceName=\"dataset\"\n        resourceLabel={t('dataset')}\n        passwordsNeededMessage={PASSWORDS_NEEDED_MESSAGE}\n        confirmOverwriteMessage={CONFIRM_OVERWRITE_MESSAGE}\n        addDangerToast={addDangerToast}\n        addSuccessToast={addSuccessToast}\n        onModelImport={handleDatasetImport}\n        show={importingDataset}\n        onHide={closeDatasetImportModal}\n        passwordFields={passwordFields}\n        setPasswordFields={setPasswordFields}\n        sshTunnelPasswordFields={sshTunnelPasswordFields}\n        setSSHTunnelPasswordFields={setSSHTunnelPasswordFields}\n        sshTunnelPrivateKeyFields={sshTunnelPrivateKeyFields}\n        setSSHTunnelPrivateKeyFields={setSSHTunnelPrivateKeyFields}\n        sshTunnelPrivateKeyPasswordFields={sshTunnelPrivateKeyPasswordFields}\n        setSSHTunnelPrivateKeyPasswordFields={\n          setSSHTunnelPrivateKeyPasswordFields\n        }\n      />\n      {preparingExport && <Loading />}\n    </>\n  );\n};\n\nexport default withToasts(DatasetList);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport Owner from 'src/types/Owner';\n\nexport default function getOwnerName(owner?: Owner): string {\n  if (!owner) {\n    return '';\n  }\n  return `${owner.first_name} ${owner.last_name}`;\n}\n"],"names":["ModifiedInfo","_ref","user","date","dateSpan","___EmotionJSX","className","userName","getOwnerName","title","t","Tooltip","placement","HelperMessage","styled","div","theme","colors","grayscale","base","_ref2","typography","sizes","s","StyledInputContainer","_ref3","gridUnit","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","light1","_ref10","_ref11","_ref12","light2","_ref13","_ref14","_ref15","resourceName","resourceLabel","passwordsNeededMessage","confirmOverwriteMessage","onModelImport","show","onHide","passwordFields","setPasswordFields","sshTunnelPasswordFields","setSSHTunnelPasswordFields","sshTunnelPrivateKeyFields","setSSHTunnelPrivateKeyFields","sshTunnelPrivateKeyPasswordFields","setSSHTunnelPrivateKeyPasswordFields","isHidden","setIsHidden","useState","passwords","setPasswords","needsOverwriteConfirm","setNeedsOverwriteConfirm","confirmedOverwrite","setConfirmedOverwrite","fileList","setFileList","importingModel","setImportingModel","errorMessage","setErrorMessage","sshTunnelPasswords","setSSHTunnelPasswords","sshTunnelPrivateKeys","setSSHTunnelPrivateKeys","sshTunnelPrivateKeyPasswords","setSSHTunnelPrivateKeyPasswords","clearModal","state","alreadyExists","passwordsNeeded","sshPasswordNeeded","sshPrivateKeyNeeded","sshPrivateKeyPasswordNeeded","importResource","useImportResource","msg","useEffect","length","Modal","name","disablePrimaryButton","onHandledPrimaryAction","onUpload","_fileList$","originFileObj","File","then","result","hide","primaryButtonName","primaryButtonType","width","Upload","id","accept","onChange","info","file","status","onRemove","removedFile","filter","uid","customRequest","disabled","Button","loading","ErrorAlert","showDbInstallInstructions","renderPasswordFields","files","Set","React","map","fileName","indexOf","key","slice","autoComplete","type","value","event","target","_event$currentTarget$","_event$currentTarget","targetValue","currentTarget","toUpperCase","dataset","onDuplicate","setShow","disableSave","setDisableSave","newDuplicateDatasetName","setNewDuplicateDatasetName","duplicateDataset","FormLabel","htmlFor","Input","_event$target$value","onPressEnter","DatasetDeleteRelatedExtension","getExtensionsRegistry","get","FlexRowContainer","Actions","withToasts","addDangerToast","addSuccessToast","history","useHistory","resourceCount","datasetCount","resourceCollection","datasets","bulkSelectEnabled","hasPerm","fetchData","toggleBulkSelect","refreshData","useListViewResource","datasetCurrentlyDeleting","setDatasetCurrentlyDeleting","datasetCurrentlyEditing","setDatasetCurrentlyEditing","datasetCurrentlyDuplicating","setDatasetCurrentlyDuplicating","importingDataset","showImportModal","preparingExport","setPreparingExport","PREVENT_UNSAFE_DEFAULT_URLS_ON_DATASET","useSelector","_state$common","_state$common$conf","common","conf","canEdit","canDelete","canCreate","canDuplicate","canExport","isFeatureEnabled","FeatureFlag","VERSIONED_EXPORT","initialSort","SORT_BY","openDatasetEditModal","useCallback","SupersetClient","endpoint","json","addCertificationFields","columns","column","certification","details","certified_by","JSON","parse","extra","certification_details","is_certified","catch","handleBulkDatasetExport","datasetsToExport","ids","handleResourceExport","useMemo","Cell","row","original","kind","Icons","DatasetPhysical","DatasetVirtual","accessor","disableSortBy","size","titleLink","table_name","datasetTitle","description","explore_url","exploreURL","Link","to","GenericLink","parsedExtra","CertifiedBadge","certifiedBy","warning_markdown","WarningIconWithTooltip","warningMarkdown","InfoTooltip","tooltip","Header","hidden","owners","FacePile","users","_ref16","changed_on_delta_humanized","changedOn","changed_by","changedBy","_ref17","allowEdit","o","includes","userId","isUserAdmin","role","tabIndex","onClick","handleDelete","openDatasetDeleteModal","chart_count","charts","count","dashboard_count","dashboards","createErrorHandler","errMsg","Trash","handleExport","Share","handleEdit","undefined","EditAlt","handleDuplicate","Copy","QueryObjectColumns","filterTypes","input","operator","FilterOperator","contains","datasetIsNullOrEmpty","unfilteredLabel","selects","label","relationOneMany","fetchSelects","createFetchRelated","paginate","equals","createFetchDistinct","relationManyMany","urlDisplay","datasetIsCertified","menuData","activeChild","buttonArr","push","buttonStyle","Import","openDatasetImportModal","buttons","SubMenu","DeleteModal","onConfirm","handleDatasetDelete","_ref18","tableName","delete","closeDatasetDeleteModal","open","DatasourceModal","datasource","onDatasourceSave","closeDatasetEditModal","DuplicateDatasetModal","closeDatasetDuplicateModal","newDatasetName","post","jsonPayload","base_model_id","ConfirmStatusChange","datasetsToDelete","rison","_ref19","_ref20","message","confirmDelete","bulkActions","onSelect","ListView","data","pageSize","PAGE_SIZE","filters","disableBulkSelect","renderBulkSelectCopy","selected","virtualCount","physicalCount","reduce","acc","e","ImportModelsModal","PASSWORDS_NEEDED_MESSAGE","CONFIRM_OVERWRITE_MESSAGE","handleDatasetImport","closeDatasetImportModal","Loading","owner","first_name","last_name"],"sourceRoot":""}